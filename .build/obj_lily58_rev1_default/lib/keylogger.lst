   1               		.file	"keylogger.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.rodata.set_keylog.str1.1,"aMS",@progbits,1
  11               	.LC0:
  12 0000 2564 7825 		.string	"%dx%d, k%2d : %c"
  12      642C 206B 
  12      2532 6420 
  12      3A20 2563 
  12      00
  13               		.section	.text.set_keylog,"ax",@progbits
  14               	.global	set_keylog
  16               	set_keylog:
  17               	.LFB20:
  18               		.file 1 "keyboards/lily58/lib/keylogger.c"
   1:keyboards/lily58/lib/keylogger.c **** #include <stdio.h>
   2:keyboards/lily58/lib/keylogger.c **** #include "lily58.h"
   3:keyboards/lily58/lib/keylogger.c **** 
   4:keyboards/lily58/lib/keylogger.c **** char keylog_str[24] = {};
   5:keyboards/lily58/lib/keylogger.c **** char keylogs_str[21] = {};
   6:keyboards/lily58/lib/keylogger.c **** int keylogs_str_idx = 0;
   7:keyboards/lily58/lib/keylogger.c **** 
   8:keyboards/lily58/lib/keylogger.c **** const char code_to_name[60] = {
   9:keyboards/lily58/lib/keylogger.c ****     ' ', ' ', ' ', ' ', 'a', 'b', 'c', 'd', 'e', 'f',
  10:keyboards/lily58/lib/keylogger.c ****     'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p',
  11:keyboards/lily58/lib/keylogger.c ****     'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
  12:keyboards/lily58/lib/keylogger.c ****     '1', '2', '3', '4', '5', '6', '7', '8', '9', '0',
  13:keyboards/lily58/lib/keylogger.c ****     'R', 'E', 'B', 'T', ' ', ' ', ' ', ' ', ' ', ' ',
  14:keyboards/lily58/lib/keylogger.c ****     ' ', ';', '\'', ' ', ',', '.', '/', ' ', ' ', ' '};
  15:keyboards/lily58/lib/keylogger.c **** 
  16:keyboards/lily58/lib/keylogger.c **** void set_keylog(uint16_t keycode, keyrecord_t *record) {
  19               		.loc 1 16 0
  20               		.cfi_startproc
  21               	.LVL0:
  22 0000 CF93      		push r28
  23               	.LCFI0:
  24               		.cfi_def_cfa_offset 3
  25               		.cfi_offset 28, -2
  26               	/* prologue: function */
  27               	/* frame size = 0 */
  28               	/* stack size = 1 */
  29               	.L__stack_usage = 1
  30               	.LVL1:
  17:keyboards/lily58/lib/keylogger.c ****   char name = ' ';
  31               		.loc 1 17 0
  32 0002 C0E2      		ldi r28,lo8(32)
  18:keyboards/lily58/lib/keylogger.c ****   if (keycode < 60) {
  33               		.loc 1 18 0
  34 0004 8C33      		cpi r24,60
  35 0006 9105      		cpc r25,__zero_reg__
  36 0008 00F4      		brsh .L2
  19:keyboards/lily58/lib/keylogger.c ****     name = code_to_name[keycode];
  37               		.loc 1 19 0
  38 000a FC01      		movw r30,r24
  39 000c E050      		subi r30,lo8(-(code_to_name))
  40 000e F040      		sbci r31,hi8(-(code_to_name))
  41 0010 C081      		ld r28,Z
  42               	.LVL2:
  43               	.L2:
  20:keyboards/lily58/lib/keylogger.c ****   }
  21:keyboards/lily58/lib/keylogger.c **** 
  22:keyboards/lily58/lib/keylogger.c ****   // update keylog
  23:keyboards/lily58/lib/keylogger.c ****   snprintf(keylog_str, sizeof(keylog_str), "%dx%d, k%2d : %c",
  44               		.loc 1 23 0
  45 0012 1F92      		push __zero_reg__
  46               	.LCFI1:
  47               		.cfi_def_cfa_offset 4
  48 0014 CF93      		push r28
  49               	.LCFI2:
  50               		.cfi_def_cfa_offset 5
  51 0016 9F93      		push r25
  52               	.LCFI3:
  53               		.cfi_def_cfa_offset 6
  54 0018 8F93      		push r24
  55               	.LCFI4:
  56               		.cfi_def_cfa_offset 7
  57 001a FB01      		movw r30,r22
  58 001c 8081      		ld r24,Z
  59               	.LVL3:
  60 001e 1F92      		push __zero_reg__
  61               	.LCFI5:
  62               		.cfi_def_cfa_offset 8
  63 0020 8F93      		push r24
  64               	.LCFI6:
  65               		.cfi_def_cfa_offset 9
  66 0022 8181      		ldd r24,Z+1
  67 0024 1F92      		push __zero_reg__
  68               	.LCFI7:
  69               		.cfi_def_cfa_offset 10
  70 0026 8F93      		push r24
  71               	.LCFI8:
  72               		.cfi_def_cfa_offset 11
  73 0028 80E0      		ldi r24,lo8(.LC0)
  74 002a 90E0      		ldi r25,hi8(.LC0)
  75 002c 9F93      		push r25
  76               	.LCFI9:
  77               		.cfi_def_cfa_offset 12
  78 002e 8F93      		push r24
  79               	.LCFI10:
  80               		.cfi_def_cfa_offset 13
  81 0030 1F92      		push __zero_reg__
  82               	.LCFI11:
  83               		.cfi_def_cfa_offset 14
  84 0032 88E1      		ldi r24,lo8(24)
  85 0034 8F93      		push r24
  86               	.LCFI12:
  87               		.cfi_def_cfa_offset 15
  88 0036 80E0      		ldi r24,lo8(keylog_str)
  89 0038 90E0      		ldi r25,hi8(keylog_str)
  90 003a 9F93      		push r25
  91               	.LCFI13:
  92               		.cfi_def_cfa_offset 16
  93 003c 8F93      		push r24
  94               	.LCFI14:
  95               		.cfi_def_cfa_offset 17
  96 003e 0E94 0000 		call snprintf
  97               	.LVL4:
  24:keyboards/lily58/lib/keylogger.c ****            record->event.key.row, record->event.key.col,
  25:keyboards/lily58/lib/keylogger.c ****            keycode, name);
  26:keyboards/lily58/lib/keylogger.c **** 
  27:keyboards/lily58/lib/keylogger.c ****   // update keylogs
  28:keyboards/lily58/lib/keylogger.c ****   if (keylogs_str_idx == sizeof(keylogs_str) - 1) {
  98               		.loc 1 28 0
  99 0042 8DB7      		in r24,__SP_L__
 100 0044 9EB7      		in r25,__SP_H__
 101 0046 0E96      		adiw r24,14
 102 0048 0FB6      		in __tmp_reg__,__SREG__
 103 004a F894      		cli
 104 004c 9EBF      		out __SP_H__,r25
 105 004e 0FBE      		out __SREG__,__tmp_reg__
 106 0050 8DBF      		out __SP_L__,r24
 107               	.LCFI15:
 108               		.cfi_def_cfa_offset 3
 109 0052 8091 0000 		lds r24,keylogs_str_idx
 110 0056 9091 0000 		lds r25,keylogs_str_idx+1
 111 005a 4497      		sbiw r24,20
 112 005c 01F0      		breq .L3
 113               	.L6:
  29:keyboards/lily58/lib/keylogger.c ****     keylogs_str_idx = 0;
  30:keyboards/lily58/lib/keylogger.c ****     for (int i = 0; i < sizeof(keylogs_str) - 1; i++) {
  31:keyboards/lily58/lib/keylogger.c ****       keylogs_str[i] = ' ';
  32:keyboards/lily58/lib/keylogger.c ****     }
  33:keyboards/lily58/lib/keylogger.c ****   }
  34:keyboards/lily58/lib/keylogger.c **** 
  35:keyboards/lily58/lib/keylogger.c ****   keylogs_str[keylogs_str_idx] = name;
 114               		.loc 1 35 0
 115 005e 8091 0000 		lds r24,keylogs_str_idx
 116 0062 9091 0000 		lds r25,keylogs_str_idx+1
 117 0066 FC01      		movw r30,r24
 118 0068 E050      		subi r30,lo8(-(keylogs_str))
 119 006a F040      		sbci r31,hi8(-(keylogs_str))
 120 006c C083      		st Z,r28
  36:keyboards/lily58/lib/keylogger.c ****   keylogs_str_idx++;
 121               		.loc 1 36 0
 122 006e 0196      		adiw r24,1
 123 0070 9093 0000 		sts keylogs_str_idx+1,r25
 124 0074 8093 0000 		sts keylogs_str_idx,r24
 125               	/* epilogue start */
  37:keyboards/lily58/lib/keylogger.c **** }
 126               		.loc 1 37 0
 127 0078 CF91      		pop r28
 128               	.LVL5:
 129 007a 0895      		ret
 130               	.LVL6:
 131               	.L3:
  29:keyboards/lily58/lib/keylogger.c ****     keylogs_str_idx = 0;
 132               		.loc 1 29 0
 133 007c 1092 0000 		sts keylogs_str_idx+1,__zero_reg__
 134 0080 1092 0000 		sts keylogs_str_idx,__zero_reg__
 135               	.LVL7:
 136 0084 E0E0      		ldi r30,lo8(keylogs_str)
 137 0086 F0E0      		ldi r31,hi8(keylogs_str)
 138               	.LBB2:
  31:keyboards/lily58/lib/keylogger.c ****     }
 139               		.loc 1 31 0
 140 0088 80E2      		ldi r24,lo8(32)
 141               	.LVL8:
 142               	.L4:
  30:keyboards/lily58/lib/keylogger.c ****       keylogs_str[i] = ' ';
 143               		.loc 1 30 0 discriminator 1
 144 008a 90E0      		ldi r25,hi8(keylogs_str+20)
 145 008c E030      		cpi r30,lo8(keylogs_str+20)
 146 008e F907      		cpc r31,r25
 147 0090 01F0      		breq .L6
  31:keyboards/lily58/lib/keylogger.c ****     }
 148               		.loc 1 31 0 discriminator 3
 149 0092 8193      		st Z+,r24
 150               	.LVL9:
 151 0094 00C0      		rjmp .L4
 152               	.LBE2:
 153               		.cfi_endproc
 154               	.LFE20:
 156               		.section	.text.read_keylog,"ax",@progbits
 157               	.global	read_keylog
 159               	read_keylog:
 160               	.LFB21:
  38:keyboards/lily58/lib/keylogger.c **** 
  39:keyboards/lily58/lib/keylogger.c **** const char *read_keylog(void) {
 161               		.loc 1 39 0
 162               		.cfi_startproc
 163               	/* prologue: function */
 164               	/* frame size = 0 */
 165               	/* stack size = 0 */
 166               	.L__stack_usage = 0
  40:keyboards/lily58/lib/keylogger.c ****   return keylog_str;
  41:keyboards/lily58/lib/keylogger.c **** }
 167               		.loc 1 41 0
 168 0000 80E0      		ldi r24,lo8(keylog_str)
 169 0002 90E0      		ldi r25,hi8(keylog_str)
 170               	/* epilogue start */
 171 0004 0895      		ret
 172               		.cfi_endproc
 173               	.LFE21:
 175               		.section	.text.read_keylogs,"ax",@progbits
 176               	.global	read_keylogs
 178               	read_keylogs:
 179               	.LFB22:
  42:keyboards/lily58/lib/keylogger.c **** 
  43:keyboards/lily58/lib/keylogger.c **** const char *read_keylogs(void) {
 180               		.loc 1 43 0
 181               		.cfi_startproc
 182               	/* prologue: function */
 183               	/* frame size = 0 */
 184               	/* stack size = 0 */
 185               	.L__stack_usage = 0
  44:keyboards/lily58/lib/keylogger.c ****   return keylogs_str;
  45:keyboards/lily58/lib/keylogger.c **** }
 186               		.loc 1 45 0
 187 0000 80E0      		ldi r24,lo8(keylogs_str)
 188 0002 90E0      		ldi r25,hi8(keylogs_str)
 189               	/* epilogue start */
 190 0004 0895      		ret
 191               		.cfi_endproc
 192               	.LFE22:
 194               	.global	code_to_name
 195               		.section	.rodata.code_to_name,"a",@progbits
 198               	code_to_name:
 199 0000 20        		.byte	32
 200 0001 20        		.byte	32
 201 0002 20        		.byte	32
 202 0003 20        		.byte	32
 203 0004 61        		.byte	97
 204 0005 62        		.byte	98
 205 0006 63        		.byte	99
 206 0007 64        		.byte	100
 207 0008 65        		.byte	101
 208 0009 66        		.byte	102
 209 000a 67        		.byte	103
 210 000b 68        		.byte	104
 211 000c 69        		.byte	105
 212 000d 6A        		.byte	106
 213 000e 6B        		.byte	107
 214 000f 6C        		.byte	108
 215 0010 6D        		.byte	109
 216 0011 6E        		.byte	110
 217 0012 6F        		.byte	111
 218 0013 70        		.byte	112
 219 0014 71        		.byte	113
 220 0015 72        		.byte	114
 221 0016 73        		.byte	115
 222 0017 74        		.byte	116
 223 0018 75        		.byte	117
 224 0019 76        		.byte	118
 225 001a 77        		.byte	119
 226 001b 78        		.byte	120
 227 001c 79        		.byte	121
 228 001d 7A        		.byte	122
 229 001e 31        		.byte	49
 230 001f 32        		.byte	50
 231 0020 33        		.byte	51
 232 0021 34        		.byte	52
 233 0022 35        		.byte	53
 234 0023 36        		.byte	54
 235 0024 37        		.byte	55
 236 0025 38        		.byte	56
 237 0026 39        		.byte	57
 238 0027 30        		.byte	48
 239 0028 52        		.byte	82
 240 0029 45        		.byte	69
 241 002a 42        		.byte	66
 242 002b 54        		.byte	84
 243 002c 20        		.byte	32
 244 002d 20        		.byte	32
 245 002e 20        		.byte	32
 246 002f 20        		.byte	32
 247 0030 20        		.byte	32
 248 0031 20        		.byte	32
 249 0032 20        		.byte	32
 250 0033 3B        		.byte	59
 251 0034 27        		.byte	39
 252 0035 20        		.byte	32
 253 0036 2C        		.byte	44
 254 0037 2E        		.byte	46
 255 0038 2F        		.byte	47
 256 0039 20        		.byte	32
 257 003a 20        		.byte	32
 258 003b 20        		.byte	32
 259               	.global	keylogs_str_idx
 260               		.section	.bss.keylogs_str_idx,"aw",@nobits
 263               	keylogs_str_idx:
 264 0000 0000      		.zero	2
 265               	.global	keylogs_str
 266               		.section	.bss.keylogs_str,"aw",@nobits
 269               	keylogs_str:
 270 0000 0000 0000 		.zero	21
 270      0000 0000 
 270      0000 0000 
 270      0000 0000 
 270      0000 0000 
 271               	.global	keylog_str
 272               		.section	.bss.keylog_str,"aw",@nobits
 275               	keylog_str:
 276 0000 0000 0000 		.zero	24
 276      0000 0000 
 276      0000 0000 
 276      0000 0000 
 276      0000 0000 
 277               		.text
 278               	.Letext0:
 279               		.file 2 "/usr/local/Cellar/avr-gcc@7/7.4.0/avr/include/stdint.h"
 280               		.file 3 "/usr/local/Cellar/avr-gcc@7/7.4.0/lib/avr-gcc/7/gcc/avr/7.4.0/include/stddef.h"
 281               		.file 4 "/usr/local/Cellar/avr-gcc@7/7.4.0/avr/include/stdio.h"
 282               		.file 5 "tmk_core/common/keyboard.h"
 283               		.file 6 "tmk_core/common/action.h"
 284               		.file 7 "tmk_core/common/report.h"
 285               		.file 8 "tmk_core/common/host.h"
 286               		.file 9 "tmk_core/common/debug.h"
 287               		.file 10 "quantum/keycode_config.h"
 288               		.file 11 "quantum/keymap.h"
 289               		.file 12 "./quantum/color.h"
 290               		.file 13 "quantum/rgblight.h"
 291               		.file 14 "tmk_core/common/action_layer.h"
 292               		.file 15 "tmk_core/common/timer.h"
 293               		.file 16 "tmk_core/common/action_util.h"
 294               		.file 17 "/usr/local/Cellar/avr-gcc@7/7.4.0/avr/include/stdlib.h"
 295               		.file 18 "quantum/quantum.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 keylogger.c
/var/tmp//cccgu6l7.s:2      *ABS*:000000000000003e __SP_H__
/var/tmp//cccgu6l7.s:3      *ABS*:000000000000003d __SP_L__
/var/tmp//cccgu6l7.s:4      *ABS*:000000000000003f __SREG__
/var/tmp//cccgu6l7.s:5      *ABS*:0000000000000000 __tmp_reg__
/var/tmp//cccgu6l7.s:6      *ABS*:0000000000000001 __zero_reg__
/var/tmp//cccgu6l7.s:16     .text.set_keylog:0000000000000000 set_keylog
/var/tmp//cccgu6l7.s:198    .rodata.code_to_name:0000000000000000 code_to_name
/var/tmp//cccgu6l7.s:275    .bss.keylog_str:0000000000000000 keylog_str
/var/tmp//cccgu6l7.s:263    .bss.keylogs_str_idx:0000000000000000 keylogs_str_idx
/var/tmp//cccgu6l7.s:269    .bss.keylogs_str:0000000000000000 keylogs_str
/var/tmp//cccgu6l7.s:159    .text.read_keylog:0000000000000000 read_keylog
/var/tmp//cccgu6l7.s:178    .text.read_keylogs:0000000000000000 read_keylogs

UNDEFINED SYMBOLS
snprintf
__do_copy_data
__do_clear_bss
