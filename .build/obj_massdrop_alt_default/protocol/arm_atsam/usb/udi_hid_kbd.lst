   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"udi_hid_kbd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.udi_hid_kbd_getsetting,"ax",%progbits
  18              		.align	1
  19              		.global	udi_hid_kbd_getsetting
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	udi_hid_kbd_getsetting:
  26              	.LFB140:
  27              		.file 1 "tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c"
   1:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** /**
   2:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * \file
   3:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
   4:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * \brief USB Device Human Interface Device (HID) keyboard interface.
   5:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
   6:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * Copyright (c) 2009-2015 Atmel Corporation. All rights reserved.
   7:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
   8:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * \asf_license_start
   9:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  10:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * \page License
  11:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  12:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * Redistribution and use in source and binary forms, with or without
  13:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * modification, are permitted provided that the following conditions are met:
  14:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  15:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *    this list of conditions and the following disclaimer.
  17:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  18:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *    and/or other materials provided with the distribution.
  21:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  22:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *    from this software without specific prior written permission.
  24:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  25:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * 4. This software may only be redistributed and used in connection with an
  26:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *    Atmel microcontroller product.
  27:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  28:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * POSSIBILITY OF SUCH DAMAGE.
  39:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  40:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * \asf_license_stop
  41:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  *
  42:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  */
  43:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** /*
  44:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  * Support and FAQ: visit <a href="http://www.atmel.com/design-support/">Atmel Support</a>
  45:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****  */
  46:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  47:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "samd51j18a.h"
  48:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "d51_util.h"
  49:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "conf_usb.h"
  50:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "usb_protocol.h"
  51:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "udd.h"
  52:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "udc.h"
  53:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "udi_device_conf.h"
  54:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "udi_hid.h"
  55:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "udi_hid_kbd.h"
  56:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include <string.h>
  57:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #include "report.h"
  58:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  59:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** //***************************************************************************
  60:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** // KBD
  61:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** //***************************************************************************
  62:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #ifdef KBD
  63:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  64:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool    udi_hid_kbd_enable(void);
  65:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** void    udi_hid_kbd_disable(void);
  66:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool    udi_hid_kbd_setup(void);
  67:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_kbd_getsetting(void);
  68:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  69:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** UDC_DESC_STORAGE udi_api_t udi_api_hid_kbd = {
  70:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .enable     = (bool (*)(void))udi_hid_kbd_enable,
  71:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .disable    = (void (*)(void))udi_hid_kbd_disable,
  72:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .setup      = (bool (*)(void))udi_hid_kbd_setup,
  73:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .getsetting = (uint8_t(*)(void))udi_hid_kbd_getsetting,
  74:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .sof_notify = NULL,
  75:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** };
  76:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  77:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
  78:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_kbd_rate;
  79:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  80:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
  81:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_kbd_protocol;
  82:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  83:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
  84:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_kbd_report_set;
  85:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  86:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_kbd_b_report_valid;
  87:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  88:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
  89:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_kbd_report[UDI_HID_KBD_REPORT_SIZE];
  90:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  91:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** volatile bool udi_hid_kbd_b_report_trans_ongoing;
  92:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  93:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
  94:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_kbd_report_trans[UDI_HID_KBD_REPORT_SIZE];
  95:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
  96:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
  97:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** UDC_DESC_STORAGE udi_hid_kbd_report_desc_t udi_hid_kbd_report_desc = {{
  98:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x01,  // Usage Page (Generic Desktop)
  99:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x09, 0x06,  // Usage (Keyboard)
 100:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xA1, 0x01,  // Collection (Application)
 101:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x07,  //   Usage Page (Keyboard)
 102:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x19, 0xE0,  //   Usage Minimum (224)
 103:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x29, 0xE7,  //   Usage Maximum (231)
 104:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x15, 0x00,  //   Logical Minimum (0)
 105:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x25, 0x01,  //   Logical Maximum (1)
 106:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x01,  //   Report Size (1)
 107:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x08,  //   Report Count (8)
 108:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x02,  //   Input (Data, Variable, Absolute)
 109:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x01,  //   Input (Constant)
 110:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x19, 0x00,  //   Usage Minimum (0)
 111:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x29, 0xFF,  //   Usage Maximum (255)
 112:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x15, 0x00,  //   Logical Minimum (0)
 113:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x25, 0xFF,  //   Logical Maximum (255)
 114:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x08,  //   Report Size (8)
 115:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x06,  //   Report Count (6)
 116:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x00,  //   Input (Data, Array)
 117:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x08,  //   Usage Page (LED)
 118:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x19, 0x01,  //   Usage Minimum (1)
 119:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x29, 0x05,  //   Usage Maximum (5)
 120:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x15, 0x00,  //   Logical Minimum (0)
 121:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x25, 0x01,  //   Logical Maximum (1)
 122:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x01,  //   Report Size (1)
 123:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x05,  //   Report Count (5)
 124:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x91, 0x02,  //   Output (Data, Variable, Absolute)
 125:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x03,  //   Report Count (3)
 126:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x91, 0x01,  //   Output (Constant)
 127:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xC0         // End Collection
 128:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }};
 129:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 130:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_kbd_setreport(void);
 131:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 132:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_kbd_report_sent(udd_ep_status_t status, iram_size_t nb_sent, udd_ep_id_t ep);
 133:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 134:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_kbd_setreport_valid(void);
 135:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 136:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_kbd_enable(void) {
 137:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 138:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_rate                   = 0;
 139:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_protocol               = 0;
 140:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_trans_ongoing = false;
 141:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_kbd_report, 0, UDI_HID_KBD_REPORT_SIZE);
 142:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_valid = false;
 143:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return UDI_HID_KBD_ENABLE_EXT();
 144:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 145:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 146:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** void udi_hid_kbd_disable(void) { UDI_HID_KBD_DISABLE_EXT(); }
 147:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 148:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_kbd_setup(void) { return udi_hid_setup(&udi_hid_kbd_rate, &udi_hid_kbd_protocol, (uint
 149:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 150:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_kbd_getsetting(void) { return 0; }
  28              		.loc 1 150 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              		.loc 1 150 0
  34 0000 0020     		movs	r0, #0
  35 0002 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE140:
  39              		.section	.text.udi_hid_kbd_setreport,"ax",%progbits
  40              		.align	1
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu fpv4-sp-d16
  46              	udi_hid_kbd_setreport:
  47              	.LFB141:
 151:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 152:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_kbd_setreport(void) {
  48              		.loc 1 152 0
  49              		.cfi_startproc
  50              		@ args = 0, pretend = 0, frame = 0
  51              		@ frame_needed = 0, uses_anonymous_args = 0
  52              		@ link register save eliminated.
 153:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if ((USB_HID_REPORT_TYPE_OUTPUT == (udd_g_ctrlreq.req.wValue >> 8)) && (0 == (0xFF & udd_g_ctrl
  53              		.loc 1 153 0
  54 0000 094B     		ldr	r3, .L7
  55 0002 5888     		ldrh	r0, [r3, #2]
  56 0004 020A     		lsrs	r2, r0, #8
  57 0006 022A     		cmp	r2, #2
  58 0008 0CD1     		bne	.L5
  59              		.loc 1 153 0 is_stmt 0 discriminator 1
  60 000a 10F0FF00 		ands	r0, r0, #255
  61 000e 09D1     		bne	.L5
  62              		.loc 1 153 0 discriminator 2
  63 0010 DA88     		ldrh	r2, [r3, #6]
  64 0012 012A     		cmp	r2, #1
  65 0014 07D1     		bne	.L3
 154:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         // Report OUT type on report ID 0 from USB Host
 155:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.payload      = &udi_hid_kbd_report_set;
  66              		.loc 1 155 0 is_stmt 1
  67 0016 0549     		ldr	r1, .L7+4
  68 0018 9960     		str	r1, [r3, #8]
 156:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.callback     = udi_hid_kbd_setreport_valid;
  69              		.loc 1 156 0
  70 001a 0549     		ldr	r1, .L7+8
  71 001c 1961     		str	r1, [r3, #16]
 157:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.payload_size = 1;
  72              		.loc 1 157 0
  73 001e 9A81     		strh	r2, [r3, #12]	@ movhi
 158:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return true;
  74              		.loc 1 158 0
  75 0020 1046     		mov	r0, r2
  76 0022 7047     		bx	lr
  77              	.L5:
 159:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 160:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return false;
  78              		.loc 1 160 0
  79 0024 0020     		movs	r0, #0
  80              	.L3:
 161:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
  81              		.loc 1 161 0
  82 0026 7047     		bx	lr
  83              	.L8:
  84              		.align	2
  85              	.L7:
  86 0028 00000000 		.word	udd_g_ctrlreq
  87 002c 00000000 		.word	udi_hid_kbd_report_set
  88 0030 00000000 		.word	udi_hid_kbd_setreport_valid
  89              		.cfi_endproc
  90              	.LFE141:
  92              		.section	.text.udi_hid_kbd_setreport_valid,"ax",%progbits
  93              		.align	1
  94              		.syntax unified
  95              		.thumb
  96              		.thumb_func
  97              		.fpu fpv4-sp-d16
  99              	udi_hid_kbd_setreport_valid:
 100              	.LFB144:
 162:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 163:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_kbd_send_report(void) {
 164:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (!main_b_kbd_enable) {
 165:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 166:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 167:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 168:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_kbd_b_report_trans_ongoing) {
 169:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 170:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 171:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 172:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memcpy(udi_hid_kbd_report_trans, udi_hid_kbd_report, UDI_HID_KBD_REPORT_SIZE);
 173:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_valid         = false;
 174:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_trans_ongoing = udd_ep_run(UDI_HID_KBD_EP_IN | USB_EP_DIR_IN, false, udi_h
 175:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 176:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return udi_hid_kbd_b_report_trans_ongoing;
 177:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 178:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 179:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_kbd_report_sent(udd_ep_status_t status, iram_size_t nb_sent, udd_ep_id_t ep) {
 180:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(status);
 181:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(nb_sent);
 182:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(ep);
 183:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_trans_ongoing = false;
 184:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_kbd_b_report_valid) {
 185:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udi_hid_kbd_send_report();
 186:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 187:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 188:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 189:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_kbd_setreport_valid(void) {
 101              		.loc 1 189 0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		@ link register save eliminated.
 190:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // UDI_HID_KBD_CHANGE_LED(udi_hid_kbd_report_set);
 191:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 106              		.loc 1 191 0
 107 0000 7047     		bx	lr
 108              		.cfi_endproc
 109              	.LFE144:
 111              		.section	.text.udi_hid_nkro_setreport,"ax",%progbits
 112              		.align	1
 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu fpv4-sp-d16
 118              	udi_hid_nkro_setreport:
 119              	.LFB149:
 192:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 193:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #endif  // KBD
 194:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 195:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** //********************************************************************************************
 196:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** // NKRO Keyboard
 197:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** //********************************************************************************************
 198:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #ifdef NKRO
 199:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 200:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool    udi_hid_nkro_enable(void);
 201:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** void    udi_hid_nkro_disable(void);
 202:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool    udi_hid_nkro_setup(void);
 203:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_nkro_getsetting(void);
 204:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 205:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** UDC_DESC_STORAGE udi_api_t udi_api_hid_nkro = {
 206:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .enable     = (bool (*)(void))udi_hid_nkro_enable,
 207:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .disable    = (void (*)(void))udi_hid_nkro_disable,
 208:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .setup      = (bool (*)(void))udi_hid_nkro_setup,
 209:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .getsetting = (uint8_t(*)(void))udi_hid_nkro_getsetting,
 210:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .sof_notify = NULL,
 211:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** };
 212:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 213:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 214:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_nkro_rate;
 215:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 216:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 217:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_nkro_protocol;
 218:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 219:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 220:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_nkro_report_set;
 221:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 222:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_nkro_b_report_valid;
 223:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 224:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 225:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_nkro_report[UDI_HID_NKRO_REPORT_SIZE];
 226:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 227:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** volatile bool udi_hid_nkro_b_report_trans_ongoing;
 228:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 229:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 230:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_nkro_report_trans[UDI_HID_NKRO_REPORT_SIZE];
 231:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 232:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 233:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** UDC_DESC_STORAGE udi_hid_nkro_report_desc_t udi_hid_nkro_report_desc = {{
 234:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x01,  // Usage Page (Generic Desktop),
 235:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x09, 0x06,  // Usage (Keyboard),
 236:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xA1, 0x01,  // Collection (Application) - Keyboard,
 237:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 238:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Mods
 239:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x01,  //   Report Size (1),
 240:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x08,  //   Report Count (8),
 241:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x15, 0x00,  //   Logical Minimum (0),
 242:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x25, 0x01,  //   Logical Maximum (1),
 243:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x07,  //   Usage Page (Key Codes),
 244:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x19, 0xE0,  //   Usage Minimum (224),
 245:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x29, 0xE7,  //   Usage Maximum (231),
 246:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x02,  //   Input (Data, Variable, Absolute),
 247:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 248:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // LED Report
 249:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x01,  //   Report Size (1),
 250:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x05,  //   Report Count (5),
 251:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x08,  //   Usage Page (LEDs),
 252:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x19, 0x01,  //   Usage Minimum (1),
 253:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x29, 0x05,  //   Usage Maximum (5),
 254:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x91, 0x02,  //   Output (Data, Variable, Absolute),
 255:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 256:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // LED Report Padding
 257:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x03,  //   Report Size (3),
 258:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x01,  //   Report Count (1),
 259:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x91, 0x03,  //   Output (Constant),
 260:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 261:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Main keys
 262:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x01,  //   Report Size (1),
 263:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0xF8,  //   Report Count (248),
 264:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x15, 0x00,  //   Logical Minimum (0),
 265:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x25, 0x01,  //   Logical Maximum (1),
 266:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x07,  //   Usage Page (Key Codes),
 267:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x19, 0x00,  //   Usage Minimum (0),
 268:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x29, 0xF7,  //   Usage Maximum (247),
 269:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x02,  //   Input (Data, Variable, Absolute, Bitfield),
 270:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xc0,        // End Collection - Keyboard
 271:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }};
 272:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 273:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_nkro_setreport(void);
 274:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_nkro_setreport_valid(void);
 275:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_nkro_report_sent(udd_ep_status_t status, iram_size_t nb_sent, udd_ep_id_t ep);
 276:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 277:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_nkro_enable(void) {
 278:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 279:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_rate                   = 0;
 280:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_protocol               = 0;
 281:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_trans_ongoing = false;
 282:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_nkro_report, 0, UDI_HID_NKRO_REPORT_SIZE);
 283:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_valid = false;
 284:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return UDI_HID_NKRO_ENABLE_EXT();
 285:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 286:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 287:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** void udi_hid_nkro_disable(void) { UDI_HID_NKRO_DISABLE_EXT(); }
 288:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 289:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_nkro_setup(void) { return udi_hid_setup(&udi_hid_nkro_rate, &udi_hid_nkro_protocol, (u
 290:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 291:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_nkro_getsetting(void) { return 0; }
 292:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 293:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** // keyboard receives LED report here
 294:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_nkro_setreport(void) {
 120              		.loc 1 294 0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
 123              		@ frame_needed = 0, uses_anonymous_args = 0
 124              		@ link register save eliminated.
 295:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if ((USB_HID_REPORT_TYPE_OUTPUT == (udd_g_ctrlreq.req.wValue >> 8)) && (0 == (0xFF & udd_g_ctrl
 125              		.loc 1 295 0
 126 0000 094B     		ldr	r3, .L15
 127 0002 5888     		ldrh	r0, [r3, #2]
 128 0004 020A     		lsrs	r2, r0, #8
 129 0006 022A     		cmp	r2, #2
 130 0008 0CD1     		bne	.L13
 131              		.loc 1 295 0 is_stmt 0 discriminator 1
 132 000a 10F0FF00 		ands	r0, r0, #255
 133 000e 09D1     		bne	.L13
 134              		.loc 1 295 0 discriminator 2
 135 0010 DA88     		ldrh	r2, [r3, #6]
 136 0012 012A     		cmp	r2, #1
 137 0014 07D1     		bne	.L11
 296:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         // Report OUT type on report ID 0 from USB Host
 297:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.payload      = &udi_hid_nkro_report_set;
 138              		.loc 1 297 0 is_stmt 1
 139 0016 0549     		ldr	r1, .L15+4
 140 0018 9960     		str	r1, [r3, #8]
 298:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.callback     = udi_hid_nkro_setreport_valid;  // must call routine to transfo
 141              		.loc 1 298 0
 142 001a 0549     		ldr	r1, .L15+8
 143 001c 1961     		str	r1, [r3, #16]
 299:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.payload_size = 1;
 144              		.loc 1 299 0
 145 001e 9A81     		strh	r2, [r3, #12]	@ movhi
 300:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return true;
 146              		.loc 1 300 0
 147 0020 1046     		mov	r0, r2
 148 0022 7047     		bx	lr
 149              	.L13:
 301:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 302:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return false;
 150              		.loc 1 302 0
 151 0024 0020     		movs	r0, #0
 152              	.L11:
 303:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 153              		.loc 1 303 0
 154 0026 7047     		bx	lr
 155              	.L16:
 156              		.align	2
 157              	.L15:
 158 0028 00000000 		.word	udd_g_ctrlreq
 159 002c 00000000 		.word	udi_hid_nkro_report_set
 160 0030 00000000 		.word	udi_hid_nkro_setreport_valid
 161              		.cfi_endproc
 162              	.LFE149:
 164              		.section	.text.udi_hid_exk_setreport,"ax",%progbits
 165              		.align	1
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 169              		.fpu fpv4-sp-d16
 171              	udi_hid_exk_setreport:
 172              	.LFB157:
 304:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 305:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_nkro_send_report(void) {
 306:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (!main_b_nkro_enable) {
 307:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 308:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 309:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 310:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_nkro_b_report_trans_ongoing) {
 311:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 312:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 313:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 314:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memcpy(udi_hid_nkro_report_trans, udi_hid_nkro_report, UDI_HID_NKRO_REPORT_SIZE);
 315:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_valid         = false;
 316:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_trans_ongoing = udd_ep_run(UDI_HID_NKRO_EP_IN | USB_EP_DIR_IN, false, udi
 317:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 318:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return udi_hid_nkro_b_report_trans_ongoing;
 319:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 320:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 321:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_nkro_report_sent(udd_ep_status_t status, iram_size_t nb_sent, udd_ep_id_t ep) {
 322:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(status);
 323:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(nb_sent);
 324:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(ep);
 325:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_trans_ongoing = false;
 326:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_nkro_b_report_valid) {
 327:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udi_hid_nkro_send_report();
 328:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 329:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 330:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 331:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_nkro_setreport_valid(void) {
 332:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // UDI_HID_NKRO_CHANGE_LED(udi_hid_nkro_report_set);
 333:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 334:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 335:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #endif  // NKRO
 336:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 337:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** //********************************************************************************************
 338:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** // EXK (extra-keys) SYS-CTRL  Keyboard
 339:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** //********************************************************************************************
 340:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** #ifdef EXK
 341:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 342:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool    udi_hid_exk_enable(void);
 343:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** void    udi_hid_exk_disable(void);
 344:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool    udi_hid_exk_setup(void);
 345:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_exk_getsetting(void);
 346:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 347:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** UDC_DESC_STORAGE udi_api_t udi_api_hid_exk = {
 348:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .enable     = (bool (*)(void))udi_hid_exk_enable,
 349:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .disable    = (void (*)(void))udi_hid_exk_disable,
 350:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .setup      = (bool (*)(void))udi_hid_exk_setup,
 351:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .getsetting = (uint8_t(*)(void))udi_hid_exk_getsetting,
 352:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     .sof_notify = NULL,
 353:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** };
 354:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 355:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 356:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_exk_rate;
 357:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 358:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 359:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_exk_protocol;
 360:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 361:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 362:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_exk_report_set;
 363:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 364:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_exk_b_report_valid;
 365:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 366:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 367:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** udi_hid_exk_report_t udi_hid_exk_report;
 368:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 369:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_exk_b_report_trans_ongoing;
 370:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 371:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 372:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static uint8_t udi_hid_exk_report_trans[UDI_HID_EXK_REPORT_SIZE];
 373:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 374:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** COMPILER_WORD_ALIGNED
 375:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** UDC_DESC_STORAGE udi_hid_exk_report_desc_t udi_hid_exk_report_desc = {{
 376:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // System Control Collection (8 bits)
 377:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 378:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x01,              // Usage Page (Generic Desktop),
 379:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x09, 0x80,              // Usage (System Control),
 380:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xA1, 0x01,              // Collection (Application),
 381:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x85, REPORT_ID_SYSTEM,  //   Report ID (2) (System),
 382:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x16, 0x01, 0x00,        //   Logical Minimum (1),
 383:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x26, 0x03, 0x00,        //   Logical Maximum (3),
 384:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x1A, 0x81, 0x00,        //   Usage Minimum (81) (System Power Down),
 385:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x2A, 0x83, 0x00,        //   Usage Maximum (83) (System Wake Up),
 386:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x10,              //   Report Size (16),
 387:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x01,              //   Report Count (1),
 388:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x00,              //   Input (Data, Array),
 389:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xC0,                    // End Collection - System Control
 390:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 391:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Consumer Control Collection - Media Keys (16 bits)
 392:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 393:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x05, 0x0C,                // Usage Page (Consumer),
 394:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x09, 0x01,                // Usage (Consumer Control),
 395:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xA1, 0x01,                // Collection (Application),
 396:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x85, REPORT_ID_CONSUMER,  //   Report ID (3) (Consumer),
 397:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x16, 0x01, 0x00,          //   Logical Minimum (1),
 398:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x26, 0x9C, 0x02,          //   Logical Maximum (668),
 399:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x1A, 0x01, 0x00,          //   Usage Minimum (1),
 400:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x2A, 0x9C, 0x02,          //   Usage Maximum (668),
 401:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x75, 0x10,                //   Report Size (16),
 402:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x95, 0x01,                //   Report Count (1),
 403:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0x81, 0x00,                //   Input (Data, Array),
 404:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     0xC0,                      // End Collection - Consumer Control
 405:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }};
 406:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 407:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_exk_setreport(void);
 408:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 409:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_exk_report_sent(udd_ep_status_t status, iram_size_t nb_sent, udd_ep_id_t ep);
 410:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 411:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_exk_setreport_valid(void);
 412:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 413:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_exk_enable(void) {
 414:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 415:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_rate                   = 0;
 416:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_protocol               = 0;
 417:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_trans_ongoing = false;
 418:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_exk_report.raw, 0, UDI_HID_EXK_REPORT_SIZE);
 419:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_valid = false;
 420:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return UDI_HID_EXK_ENABLE_EXT();
 421:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 422:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 423:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** void udi_hid_exk_disable(void) { UDI_HID_EXK_DISABLE_EXT(); }
 424:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 425:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_exk_setup(void) { return udi_hid_setup(&udi_hid_exk_rate, &udi_hid_exk_protocol, (uint
 426:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 427:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** uint8_t udi_hid_exk_getsetting(void) { return 0; }
 428:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 429:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static bool udi_hid_exk_setreport(void) {
 173              		.loc 1 429 0
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 0
 176              		@ frame_needed = 0, uses_anonymous_args = 0
 177              		@ link register save eliminated.
 430:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if ((USB_HID_REPORT_TYPE_OUTPUT == (udd_g_ctrlreq.req.wValue >> 8)) && (0 == (0xFF & udd_g_ctrl
 178              		.loc 1 430 0
 179 0000 094B     		ldr	r3, .L22
 180 0002 5888     		ldrh	r0, [r3, #2]
 181 0004 020A     		lsrs	r2, r0, #8
 182 0006 022A     		cmp	r2, #2
 183 0008 0CD1     		bne	.L20
 184              		.loc 1 430 0 is_stmt 0 discriminator 1
 185 000a 10F0FF00 		ands	r0, r0, #255
 186 000e 09D1     		bne	.L20
 187              		.loc 1 430 0 discriminator 2
 188 0010 DA88     		ldrh	r2, [r3, #6]
 189 0012 012A     		cmp	r2, #1
 190 0014 07D1     		bne	.L18
 431:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         // Report OUT type on report ID 0 from USB Host
 432:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.payload      = &udi_hid_exk_report_set;
 191              		.loc 1 432 0 is_stmt 1
 192 0016 0549     		ldr	r1, .L22+4
 193 0018 9960     		str	r1, [r3, #8]
 433:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.callback     = udi_hid_exk_setreport_valid;
 194              		.loc 1 433 0
 195 001a 0549     		ldr	r1, .L22+8
 196 001c 1961     		str	r1, [r3, #16]
 434:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udd_g_ctrlreq.payload_size = 1;
 197              		.loc 1 434 0
 198 001e 9A81     		strh	r2, [r3, #12]	@ movhi
 435:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return true;
 199              		.loc 1 435 0
 200 0020 1046     		mov	r0, r2
 201 0022 7047     		bx	lr
 202              	.L20:
 436:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 437:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return false;
 203              		.loc 1 437 0
 204 0024 0020     		movs	r0, #0
 205              	.L18:
 438:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 206              		.loc 1 438 0
 207 0026 7047     		bx	lr
 208              	.L23:
 209              		.align	2
 210              	.L22:
 211 0028 00000000 		.word	udd_g_ctrlreq
 212 002c 00000000 		.word	udi_hid_exk_report_set
 213 0030 00000000 		.word	udi_hid_exk_setreport_valid
 214              		.cfi_endproc
 215              	.LFE157:
 217              		.section	.text.udi_hid_kbd_enable,"ax",%progbits
 218              		.align	1
 219              		.global	udi_hid_kbd_enable
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv4-sp-d16
 225              	udi_hid_kbd_enable:
 226              	.LFB137:
 136:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 227              		.loc 1 136 0
 228              		.cfi_startproc
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231              		@ link register save eliminated.
 138:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_protocol               = 0;
 232              		.loc 1 138 0
 233 0000 064A     		ldr	r2, .L25
 234 0002 0023     		movs	r3, #0
 235 0004 1370     		strb	r3, [r2]
 139:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_trans_ongoing = false;
 236              		.loc 1 139 0
 237 0006 1371     		strb	r3, [r2, #4]
 140:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_kbd_report, 0, UDI_HID_KBD_REPORT_SIZE);
 238              		.loc 1 140 0
 239 0008 054A     		ldr	r2, .L25+4
 240 000a 1370     		strb	r3, [r2]
 141:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_valid = false;
 241              		.loc 1 141 0
 242 000c 054A     		ldr	r2, .L25+8
 243 000e C2E90033 		strd	r3, r3, [r2]
 142:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return UDI_HID_KBD_ENABLE_EXT();
 244              		.loc 1 142 0
 245 0012 054A     		ldr	r2, .L25+12
 246 0014 1370     		strb	r3, [r2]
 143:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 247              		.loc 1 143 0
 248 0016 FFF7FEBF 		b	main_kbd_enable
 249              	.LVL0:
 250              	.L26:
 251 001a 00BF     		.align	2
 252              	.L25:
 253 001c 00000000 		.word	.LANCHOR0
 254 0020 00000000 		.word	udi_hid_kbd_b_report_trans_ongoing
 255 0024 00000000 		.word	udi_hid_kbd_report
 256 0028 00000000 		.word	udi_hid_kbd_b_report_valid
 257              		.cfi_endproc
 258              	.LFE137:
 260              		.section	.text.udi_hid_kbd_disable,"ax",%progbits
 261              		.align	1
 262              		.global	udi_hid_kbd_disable
 263              		.syntax unified
 264              		.thumb
 265              		.thumb_func
 266              		.fpu fpv4-sp-d16
 268              	udi_hid_kbd_disable:
 269              	.LFB138:
 146:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 270              		.loc 1 146 0
 271              		.cfi_startproc
 272              		@ args = 0, pretend = 0, frame = 0
 273              		@ frame_needed = 0, uses_anonymous_args = 0
 274              		@ link register save eliminated.
 146:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 275              		.loc 1 146 0
 276 0000 FFF7FEBF 		b	main_kbd_disable
 277              	.LVL1:
 278              		.cfi_endproc
 279              	.LFE138:
 281              		.section	.text.udi_hid_kbd_setup,"ax",%progbits
 282              		.align	1
 283              		.global	udi_hid_kbd_setup
 284              		.syntax unified
 285              		.thumb
 286              		.thumb_func
 287              		.fpu fpv4-sp-d16
 289              	udi_hid_kbd_setup:
 290              	.LFB139:
 148:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 291              		.loc 1 148 0
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295              		@ link register save eliminated.
 148:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 296              		.loc 1 148 0
 297 0000 0248     		ldr	r0, .L29
 298 0002 034B     		ldr	r3, .L29+4
 299 0004 034A     		ldr	r2, .L29+8
 300 0006 011D     		adds	r1, r0, #4
 301 0008 FFF7FEBF 		b	udi_hid_setup
 302              	.LVL2:
 303              	.L30:
 304              		.align	2
 305              	.L29:
 306 000c 00000000 		.word	.LANCHOR0
 307 0010 00000000 		.word	udi_hid_kbd_setreport
 308 0014 00000000 		.word	.LANCHOR1
 309              		.cfi_endproc
 310              	.LFE139:
 312              		.section	.text.udi_hid_nkro_setup,"ax",%progbits
 313              		.align	1
 314              		.global	udi_hid_nkro_setup
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 318              		.fpu fpv4-sp-d16
 320              	udi_hid_nkro_setup:
 321              	.LFB147:
 289:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 322              		.loc 1 289 0
 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326              		@ link register save eliminated.
 289:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 327              		.loc 1 289 0
 328 0000 0348     		ldr	r0, .L32
 329 0002 044B     		ldr	r3, .L32+4
 330 0004 044A     		ldr	r2, .L32+8
 331 0006 00F10801 		add	r1, r0, #8
 332 000a 0C30     		adds	r0, r0, #12
 333 000c FFF7FEBF 		b	udi_hid_setup
 334              	.LVL3:
 335              	.L33:
 336              		.align	2
 337              	.L32:
 338 0010 00000000 		.word	.LANCHOR0
 339 0014 00000000 		.word	udi_hid_nkro_setreport
 340 0018 3C000000 		.word	.LANCHOR1+60
 341              		.cfi_endproc
 342              	.LFE147:
 344              		.section	.text.udi_hid_exk_setup,"ax",%progbits
 345              		.align	1
 346              		.global	udi_hid_exk_setup
 347              		.syntax unified
 348              		.thumb
 349              		.thumb_func
 350              		.fpu fpv4-sp-d16
 352              	udi_hid_exk_setup:
 353              	.LFB155:
 425:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 354              		.loc 1 425 0
 355              		.cfi_startproc
 356              		@ args = 0, pretend = 0, frame = 0
 357              		@ frame_needed = 0, uses_anonymous_args = 0
 358              		@ link register save eliminated.
 425:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 359              		.loc 1 425 0
 360 0000 0348     		ldr	r0, .L35
 361 0002 044B     		ldr	r3, .L35+4
 362 0004 044A     		ldr	r2, .L35+8
 363 0006 00F11001 		add	r1, r0, #16
 364 000a 1430     		adds	r0, r0, #20
 365 000c FFF7FEBF 		b	udi_hid_setup
 366              	.LVL4:
 367              	.L36:
 368              		.align	2
 369              	.L35:
 370 0010 00000000 		.word	.LANCHOR0
 371 0014 00000000 		.word	udi_hid_exk_setreport
 372 0018 78000000 		.word	.LANCHOR1+120
 373              		.cfi_endproc
 374              	.LFE155:
 376              		.section	.text.udi_hid_nkro_enable,"ax",%progbits
 377              		.align	1
 378              		.global	udi_hid_nkro_enable
 379              		.syntax unified
 380              		.thumb
 381              		.thumb_func
 382              		.fpu fpv4-sp-d16
 384              	udi_hid_nkro_enable:
 385              	.LFB145:
 277:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 386              		.loc 1 277 0
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 0
 389              		@ frame_needed = 0, uses_anonymous_args = 0
 279:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_protocol               = 0;
 390              		.loc 1 279 0
 391 0000 084B     		ldr	r3, .L38
 282:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_valid = false;
 392              		.loc 1 282 0
 393 0002 0948     		ldr	r0, .L38+4
 277:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 394              		.loc 1 277 0
 395 0004 10B5     		push	{r4, lr}
 396              		.cfi_def_cfa_offset 8
 397              		.cfi_offset 4, -8
 398              		.cfi_offset 14, -4
 279:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_protocol               = 0;
 399              		.loc 1 279 0
 400 0006 0024     		movs	r4, #0
 401 0008 1C73     		strb	r4, [r3, #12]
 280:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_trans_ongoing = false;
 402              		.loc 1 280 0
 403 000a 1C72     		strb	r4, [r3, #8]
 281:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_nkro_report, 0, UDI_HID_NKRO_REPORT_SIZE);
 404              		.loc 1 281 0
 405 000c 074B     		ldr	r3, .L38+8
 282:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_valid = false;
 406              		.loc 1 282 0
 407 000e 2146     		mov	r1, r4
 408 0010 2022     		movs	r2, #32
 281:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_nkro_report, 0, UDI_HID_NKRO_REPORT_SIZE);
 409              		.loc 1 281 0
 410 0012 1C70     		strb	r4, [r3]
 282:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_valid = false;
 411              		.loc 1 282 0
 412 0014 FFF7FEFF 		bl	memset
 413              	.LVL5:
 283:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return UDI_HID_NKRO_ENABLE_EXT();
 414              		.loc 1 283 0
 415 0018 054B     		ldr	r3, .L38+12
 416 001a 1C70     		strb	r4, [r3]
 285:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 417              		.loc 1 285 0
 418 001c BDE81040 		pop	{r4, lr}
 419              		.cfi_restore 14
 420              		.cfi_restore 4
 421              		.cfi_def_cfa_offset 0
 284:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 422              		.loc 1 284 0
 423 0020 FFF7FEBF 		b	main_nkro_enable
 424              	.LVL6:
 425              	.L39:
 426              		.align	2
 427              	.L38:
 428 0024 00000000 		.word	.LANCHOR0
 429 0028 00000000 		.word	udi_hid_nkro_report
 430 002c 00000000 		.word	udi_hid_nkro_b_report_trans_ongoing
 431 0030 00000000 		.word	udi_hid_nkro_b_report_valid
 432              		.cfi_endproc
 433              	.LFE145:
 435              		.section	.text.udi_hid_nkro_disable,"ax",%progbits
 436              		.align	1
 437              		.global	udi_hid_nkro_disable
 438              		.syntax unified
 439              		.thumb
 440              		.thumb_func
 441              		.fpu fpv4-sp-d16
 443              	udi_hid_nkro_disable:
 444              	.LFB146:
 287:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 445              		.loc 1 287 0
 446              		.cfi_startproc
 447              		@ args = 0, pretend = 0, frame = 0
 448              		@ frame_needed = 0, uses_anonymous_args = 0
 449              		@ link register save eliminated.
 287:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 450              		.loc 1 287 0
 451 0000 FFF7FEBF 		b	main_nkro_disable
 452              	.LVL7:
 453              		.cfi_endproc
 454              	.LFE146:
 456              		.section	.text.udi_hid_exk_enable,"ax",%progbits
 457              		.align	1
 458              		.global	udi_hid_exk_enable
 459              		.syntax unified
 460              		.thumb
 461              		.thumb_func
 462              		.fpu fpv4-sp-d16
 464              	udi_hid_exk_enable:
 465              	.LFB153:
 413:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     // Initialize internal values
 466              		.loc 1 413 0
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 0
 469              		@ frame_needed = 0, uses_anonymous_args = 0
 470              		@ link register save eliminated.
 415:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_protocol               = 0;
 471              		.loc 1 415 0
 472 0000 054A     		ldr	r2, .L42
 473 0002 0023     		movs	r3, #0
 474 0004 1375     		strb	r3, [r2, #20]
 416:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_trans_ongoing = false;
 475              		.loc 1 416 0
 476 0006 1374     		strb	r3, [r2, #16]
 417:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memset(udi_hid_exk_report.raw, 0, UDI_HID_EXK_REPORT_SIZE);
 477              		.loc 1 417 0
 478 0008 5375     		strb	r3, [r2, #21]
 418:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_valid = false;
 479              		.loc 1 418 0
 480 000a 044A     		ldr	r2, .L42+4
 481 000c 1380     		strh	r3, [r2]	@ movhi
 482 000e 9370     		strb	r3, [r2, #2]
 419:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return UDI_HID_EXK_ENABLE_EXT();
 483              		.loc 1 419 0
 484 0010 034A     		ldr	r2, .L42+8
 485 0012 1370     		strb	r3, [r2]
 420:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 486              		.loc 1 420 0
 487 0014 FFF7FEBF 		b	main_exk_enable
 488              	.LVL8:
 489              	.L43:
 490              		.align	2
 491              	.L42:
 492 0018 00000000 		.word	.LANCHOR0
 493 001c 00000000 		.word	udi_hid_exk_report
 494 0020 00000000 		.word	udi_hid_exk_b_report_valid
 495              		.cfi_endproc
 496              	.LFE153:
 498              		.section	.text.udi_hid_exk_disable,"ax",%progbits
 499              		.align	1
 500              		.global	udi_hid_exk_disable
 501              		.syntax unified
 502              		.thumb
 503              		.thumb_func
 504              		.fpu fpv4-sp-d16
 506              	udi_hid_exk_disable:
 507              	.LFB154:
 423:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 508              		.loc 1 423 0
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 0
 511              		@ frame_needed = 0, uses_anonymous_args = 0
 512              		@ link register save eliminated.
 423:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 513              		.loc 1 423 0
 514 0000 FFF7FEBF 		b	main_exk_disable
 515              	.LVL9:
 516              		.cfi_endproc
 517              	.LFE154:
 519              		.section	.text.udi_hid_exk_setreport_valid,"ax",%progbits
 520              		.align	1
 521              		.syntax unified
 522              		.thumb
 523              		.thumb_func
 524              		.fpu fpv4-sp-d16
 526              	udi_hid_exk_setreport_valid:
 527              	.LFB168:
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 0
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 531              		@ link register save eliminated.
 532 0000 7047     		bx	lr
 533              		.cfi_endproc
 534              	.LFE168:
 536              		.section	.text.udi_hid_nkro_setreport_valid,"ax",%progbits
 537              		.align	1
 538              		.syntax unified
 539              		.thumb
 540              		.thumb_func
 541              		.fpu fpv4-sp-d16
 543              	udi_hid_nkro_setreport_valid:
 544              	.LFB166:
 545              		.cfi_startproc
 546              		@ args = 0, pretend = 0, frame = 0
 547              		@ frame_needed = 0, uses_anonymous_args = 0
 548              		@ link register save eliminated.
 549 0000 7047     		bx	lr
 550              		.cfi_endproc
 551              	.LFE166:
 553              		.section	.text.udi_hid_exk_getsetting,"ax",%progbits
 554              		.align	1
 555              		.global	udi_hid_exk_getsetting
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 559              		.fpu fpv4-sp-d16
 561              	udi_hid_exk_getsetting:
 562              	.LFB164:
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		@ link register save eliminated.
 567 0000 0020     		movs	r0, #0
 568 0002 7047     		bx	lr
 569              		.cfi_endproc
 570              	.LFE164:
 572              		.section	.text.udi_hid_nkro_getsetting,"ax",%progbits
 573              		.align	1
 574              		.global	udi_hid_nkro_getsetting
 575              		.syntax unified
 576              		.thumb
 577              		.thumb_func
 578              		.fpu fpv4-sp-d16
 580              	udi_hid_nkro_getsetting:
 581              	.LFB162:
 582              		.cfi_startproc
 583              		@ args = 0, pretend = 0, frame = 0
 584              		@ frame_needed = 0, uses_anonymous_args = 0
 585              		@ link register save eliminated.
 586 0000 0020     		movs	r0, #0
 587 0002 7047     		bx	lr
 588              		.cfi_endproc
 589              	.LFE162:
 591              		.section	.text.udi_hid_kbd_send_report,"ax",%progbits
 592              		.align	1
 593              		.global	udi_hid_kbd_send_report
 594              		.syntax unified
 595              		.thumb
 596              		.thumb_func
 597              		.fpu fpv4-sp-d16
 599              	udi_hid_kbd_send_report:
 600              	.LFB142:
 163:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (!main_b_kbd_enable) {
 601              		.loc 1 163 0
 602              		.cfi_startproc
 603              		@ args = 0, pretend = 0, frame = 0
 604              		@ frame_needed = 0, uses_anonymous_args = 0
 163:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (!main_b_kbd_enable) {
 605              		.loc 1 163 0
 606 0000 37B5     		push	{r0, r1, r2, r4, r5, lr}
 607              		.cfi_def_cfa_offset 24
 608              		.cfi_offset 4, -12
 609              		.cfi_offset 5, -8
 610              		.cfi_offset 14, -4
 164:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 611              		.loc 1 164 0
 612 0002 104B     		ldr	r3, .L55
 613 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 614 0006 03F0FF00 		and	r0, r3, #255
 615 000a B3B1     		cbz	r3, .L50
 168:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 616              		.loc 1 168 0
 617 000c 0E4C     		ldr	r4, .L55+4
 618 000e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 619 0010 03F0FF05 		and	r5, r3, #255
 620 0014 9BB9     		cbnz	r3, .L51
 172:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_valid         = false;
 621              		.loc 1 172 0
 622 0016 0D4B     		ldr	r3, .L55+8
 623 0018 0D4A     		ldr	r2, .L55+12
 624 001a 93E80300 		ldm	r3, {r0, r1}
 173:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_trans_ongoing = udd_ep_run(UDI_HID_KBD_EP_IN | USB_EP_DIR_IN, false, udi_h
 625              		.loc 1 173 0
 626 001e 0D4B     		ldr	r3, .L55+16
 627 0020 1D70     		strb	r5, [r3]
 174:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 628              		.loc 1 174 0
 629 0022 0D4B     		ldr	r3, .L55+20
 172:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_kbd_b_report_valid         = false;
 630              		.loc 1 172 0
 631 0024 82E80300 		stm	r2, {r0, r1}
 174:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 632              		.loc 1 174 0
 633 0028 0093     		str	r3, [sp]
 634 002a 2946     		mov	r1, r5
 635 002c 0823     		movs	r3, #8
 636 002e 8120     		movs	r0, #129
 637 0030 FFF7FEFF 		bl	udd_ep_run
 638              	.LVL10:
 639 0034 2070     		strb	r0, [r4]
 176:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 640              		.loc 1 176 0
 641 0036 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 642 0038 C0B2     		uxtb	r0, r0
 643              	.L50:
 177:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 644              		.loc 1 177 0
 645 003a 03B0     		add	sp, sp, #12
 646              		.cfi_remember_state
 647              		.cfi_def_cfa_offset 12
 648              		@ sp needed
 649 003c 30BD     		pop	{r4, r5, pc}
 650              	.L51:
 651              		.cfi_restore_state
 165:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 652              		.loc 1 165 0
 653 003e 0020     		movs	r0, #0
 654 0040 FBE7     		b	.L50
 655              	.L56:
 656 0042 00BF     		.align	2
 657              	.L55:
 658 0044 00000000 		.word	main_b_kbd_enable
 659 0048 00000000 		.word	udi_hid_kbd_b_report_trans_ongoing
 660 004c 00000000 		.word	udi_hid_kbd_report
 661 0050 18000000 		.word	.LANCHOR0+24
 662 0054 00000000 		.word	udi_hid_kbd_b_report_valid
 663 0058 00000000 		.word	udi_hid_kbd_report_sent
 664              		.cfi_endproc
 665              	.LFE142:
 667              		.section	.text.udi_hid_kbd_report_sent,"ax",%progbits
 668              		.align	1
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 672              		.fpu fpv4-sp-d16
 674              	udi_hid_kbd_report_sent:
 675              	.LFB143:
 179:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(status);
 676              		.loc 1 179 0
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 0
 679              		@ frame_needed = 0, uses_anonymous_args = 0
 680              		@ link register save eliminated.
 681              	.LVL11:
 183:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_kbd_b_report_valid) {
 682              		.loc 1 183 0
 683 0000 044B     		ldr	r3, .L59
 684 0002 0022     		movs	r2, #0
 685              	.LVL12:
 686 0004 1A70     		strb	r2, [r3]
 184:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udi_hid_kbd_send_report();
 687              		.loc 1 184 0
 688 0006 044B     		ldr	r3, .L59+4
 689 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 690 000a 0BB1     		cbz	r3, .L57
 185:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 691              		.loc 1 185 0
 692 000c FFF7FEBF 		b	udi_hid_kbd_send_report
 693              	.LVL13:
 694              	.L57:
 187:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 695              		.loc 1 187 0
 696 0010 7047     		bx	lr
 697              	.L60:
 698 0012 00BF     		.align	2
 699              	.L59:
 700 0014 00000000 		.word	udi_hid_kbd_b_report_trans_ongoing
 701 0018 00000000 		.word	udi_hid_kbd_b_report_valid
 702              		.cfi_endproc
 703              	.LFE143:
 705              		.section	.text.udi_hid_nkro_send_report,"ax",%progbits
 706              		.align	1
 707              		.global	udi_hid_nkro_send_report
 708              		.syntax unified
 709              		.thumb
 710              		.thumb_func
 711              		.fpu fpv4-sp-d16
 713              	udi_hid_nkro_send_report:
 714              	.LFB150:
 305:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (!main_b_nkro_enable) {
 715              		.loc 1 305 0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 0
 718              		@ frame_needed = 0, uses_anonymous_args = 0
 719 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 720              		.cfi_def_cfa_offset 32
 721              		.cfi_offset 4, -20
 722              		.cfi_offset 5, -16
 723              		.cfi_offset 6, -12
 724              		.cfi_offset 7, -8
 725              		.cfi_offset 14, -4
 306:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 726              		.loc 1 306 0
 727 0002 124B     		ldr	r3, .L67
 728 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 729 0006 03F0FF00 		and	r0, r3, #255
 730 000a D3B1     		cbz	r3, .L62
 310:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 731              		.loc 1 310 0
 732 000c 104E     		ldr	r6, .L67+4
 733 000e 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
 734 0010 03F0FF07 		and	r7, r3, #255
 735 0014 BBB9     		cbnz	r3, .L63
 314:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_valid         = false;
 736              		.loc 1 314 0
 737 0016 0F4D     		ldr	r5, .L67+8
 738 0018 0F4C     		ldr	r4, .L67+12
 739 001a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 740 001c 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 741 001e 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 742 0022 84E80F00 		stm	r4, {r0, r1, r2, r3}
 315:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_nkro_b_report_trans_ongoing = udd_ep_run(UDI_HID_NKRO_EP_IN | USB_EP_DIR_IN, false, udi
 743              		.loc 1 315 0
 744 0026 0D4B     		ldr	r3, .L67+16
 745 0028 1F70     		strb	r7, [r3]
 316:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 746              		.loc 1 316 0
 747 002a 0D4B     		ldr	r3, .L67+20
 748 002c 0093     		str	r3, [sp]
 749 002e A4F11002 		sub	r2, r4, #16
 750 0032 2023     		movs	r3, #32
 751 0034 3946     		mov	r1, r7
 752 0036 8320     		movs	r0, #131
 753 0038 FFF7FEFF 		bl	udd_ep_run
 754              	.LVL14:
 755 003c 3070     		strb	r0, [r6]
 318:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 756              		.loc 1 318 0
 757 003e 3078     		ldrb	r0, [r6]	@ zero_extendqisi2
 758 0040 C0B2     		uxtb	r0, r0
 759              	.L62:
 319:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 760              		.loc 1 319 0
 761 0042 03B0     		add	sp, sp, #12
 762              		.cfi_remember_state
 763              		.cfi_def_cfa_offset 20
 764              		@ sp needed
 765 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
 766              	.L63:
 767              		.cfi_restore_state
 307:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 768              		.loc 1 307 0
 769 0046 0020     		movs	r0, #0
 770 0048 FBE7     		b	.L62
 771              	.L68:
 772 004a 00BF     		.align	2
 773              	.L67:
 774 004c 00000000 		.word	main_b_nkro_enable
 775 0050 00000000 		.word	udi_hid_nkro_b_report_trans_ongoing
 776 0054 00000000 		.word	udi_hid_nkro_report
 777 0058 20000000 		.word	.LANCHOR0+32
 778 005c 00000000 		.word	udi_hid_nkro_b_report_valid
 779 0060 00000000 		.word	udi_hid_nkro_report_sent
 780              		.cfi_endproc
 781              	.LFE150:
 783              		.section	.text.udi_hid_nkro_report_sent,"ax",%progbits
 784              		.align	1
 785              		.syntax unified
 786              		.thumb
 787              		.thumb_func
 788              		.fpu fpv4-sp-d16
 790              	udi_hid_nkro_report_sent:
 791              	.LFB151:
 321:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(status);
 792              		.loc 1 321 0
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796              		@ link register save eliminated.
 797              	.LVL15:
 325:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_nkro_b_report_valid) {
 798              		.loc 1 325 0
 799 0000 044B     		ldr	r3, .L71
 800 0002 0022     		movs	r2, #0
 801              	.LVL16:
 802 0004 1A70     		strb	r2, [r3]
 326:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udi_hid_nkro_send_report();
 803              		.loc 1 326 0
 804 0006 044B     		ldr	r3, .L71+4
 805 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 806 000a 0BB1     		cbz	r3, .L69
 327:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 807              		.loc 1 327 0
 808 000c FFF7FEBF 		b	udi_hid_nkro_send_report
 809              	.LVL17:
 810              	.L69:
 329:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 811              		.loc 1 329 0
 812 0010 7047     		bx	lr
 813              	.L72:
 814 0012 00BF     		.align	2
 815              	.L71:
 816 0014 00000000 		.word	udi_hid_nkro_b_report_trans_ongoing
 817 0018 00000000 		.word	udi_hid_nkro_b_report_valid
 818              		.cfi_endproc
 819              	.LFE151:
 821              		.section	.text.udi_hid_exk_send_report,"ax",%progbits
 822              		.align	1
 823              		.global	udi_hid_exk_send_report
 824              		.syntax unified
 825              		.thumb
 826              		.thumb_func
 827              		.fpu fpv4-sp-d16
 829              	udi_hid_exk_send_report:
 830              	.LFB158:
 439:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 440:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** bool udi_hid_exk_send_report(void) {
 831              		.loc 1 440 0
 832              		.cfi_startproc
 833              		@ args = 0, pretend = 0, frame = 0
 834              		@ frame_needed = 0, uses_anonymous_args = 0
 835 0000 13B5     		push	{r0, r1, r4, lr}
 836              		.cfi_def_cfa_offset 16
 837              		.cfi_offset 4, -8
 838              		.cfi_offset 14, -4
 441:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (!main_b_exk_enable) {
 839              		.loc 1 441 0
 840 0002 0F4B     		ldr	r3, .L79
 841 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 842 0006 03F0FF00 		and	r0, r3, #255
 843 000a A3B1     		cbz	r3, .L74
 442:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 443:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 444:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 445:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_exk_b_report_trans_ongoing) {
 844              		.loc 1 445 0
 845 000c 0D4C     		ldr	r4, .L79+4
 846 000e 617D     		ldrb	r1, [r4, #21]	@ zero_extendqisi2
 847 0010 99B9     		cbnz	r1, .L75
 446:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         return false;
 447:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 448:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 449:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     memcpy(udi_hid_exk_report_trans, udi_hid_exk_report.raw, UDI_HID_EXK_REPORT_SIZE);
 848              		.loc 1 449 0
 849 0012 0D4B     		ldr	r3, .L79+8
 850 0014 1B68     		ldr	r3, [r3]
 851 0016 A4F84030 		strh	r3, [r4, #64]	@ movhi
 852 001a 1B0C     		lsrs	r3, r3, #16
 853 001c 84F84230 		strb	r3, [r4, #66]
 450:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_valid         = false;
 854              		.loc 1 450 0
 855 0020 0A4B     		ldr	r3, .L79+12
 856 0022 1970     		strb	r1, [r3]
 451:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_trans_ongoing = udd_ep_run(UDI_HID_EXK_EP_IN | USB_EP_DIR_IN, false, udi_h
 857              		.loc 1 451 0
 858 0024 0A4B     		ldr	r3, .L79+16
 859 0026 0093     		str	r3, [sp]
 860 0028 04F14002 		add	r2, r4, #64
 861 002c 0323     		movs	r3, #3
 862 002e 8220     		movs	r0, #130
 863 0030 FFF7FEFF 		bl	udd_ep_run
 864              	.LVL18:
 865 0034 6075     		strb	r0, [r4, #21]
 866              	.L74:
 452:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 453:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     return udi_hid_exk_b_report_trans_ongoing;
 454:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 867              		.loc 1 454 0
 868 0036 02B0     		add	sp, sp, #8
 869              		.cfi_remember_state
 870              		.cfi_def_cfa_offset 8
 871              		@ sp needed
 872 0038 10BD     		pop	{r4, pc}
 873              	.L75:
 874              		.cfi_restore_state
 442:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 875              		.loc 1 442 0
 876 003a 0020     		movs	r0, #0
 877 003c FBE7     		b	.L74
 878              	.L80:
 879 003e 00BF     		.align	2
 880              	.L79:
 881 0040 00000000 		.word	main_b_exk_enable
 882 0044 00000000 		.word	.LANCHOR0
 883 0048 00000000 		.word	udi_hid_exk_report
 884 004c 00000000 		.word	udi_hid_exk_b_report_valid
 885 0050 00000000 		.word	udi_hid_exk_report_sent
 886              		.cfi_endproc
 887              	.LFE158:
 889              		.section	.text.udi_hid_exk_report_sent,"ax",%progbits
 890              		.align	1
 891              		.syntax unified
 892              		.thumb
 893              		.thumb_func
 894              		.fpu fpv4-sp-d16
 896              	udi_hid_exk_report_sent:
 897              	.LFB159:
 455:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** 
 456:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** static void udi_hid_exk_report_sent(udd_ep_status_t status, iram_size_t nb_sent, udd_ep_id_t ep) {
 898              		.loc 1 456 0
 899              		.cfi_startproc
 900              		@ args = 0, pretend = 0, frame = 0
 901              		@ frame_needed = 0, uses_anonymous_args = 0
 902              		@ link register save eliminated.
 903              	.LVL19:
 457:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(status);
 458:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(nb_sent);
 459:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     UNUSED(ep);
 460:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     udi_hid_exk_b_report_trans_ongoing = false;
 904              		.loc 1 460 0
 905 0000 044B     		ldr	r3, .L83
 906 0002 0022     		movs	r2, #0
 907              	.LVL20:
 908 0004 5A75     		strb	r2, [r3, #21]
 461:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     if (udi_hid_exk_b_report_valid) {
 909              		.loc 1 461 0
 910 0006 044B     		ldr	r3, .L83+4
 911 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 912 000a 0BB1     		cbz	r3, .L81
 462:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****         udi_hid_exk_send_report();
 913              		.loc 1 462 0
 914 000c FFF7FEBF 		b	udi_hid_exk_send_report
 915              	.LVL21:
 916              	.L81:
 463:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c ****     }
 464:tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.c **** }
 917              		.loc 1 464 0
 918 0010 7047     		bx	lr
 919              	.L84:
 920 0012 00BF     		.align	2
 921              	.L83:
 922 0014 00000000 		.word	.LANCHOR0
 923 0018 00000000 		.word	udi_hid_exk_b_report_valid
 924              		.cfi_endproc
 925              	.LFE159:
 927              		.global	udi_hid_exk_report_desc
 928              		.comm	udi_hid_exk_report,3,4
 929              		.comm	udi_hid_exk_b_report_valid,1,1
 930              		.comm	udi_hid_exk_report_set,1,4
 931              		.global	udi_api_hid_exk
 932              		.global	udi_hid_nkro_report_desc
 933              		.comm	udi_hid_nkro_b_report_trans_ongoing,1,1
 934              		.comm	udi_hid_nkro_report,32,4
 935              		.comm	udi_hid_nkro_b_report_valid,1,1
 936              		.comm	udi_hid_nkro_report_set,1,4
 937              		.global	udi_api_hid_nkro
 938              		.global	udi_hid_kbd_report_desc
 939              		.comm	udi_hid_kbd_b_report_trans_ongoing,1,1
 940              		.comm	udi_hid_kbd_report,8,4
 941              		.comm	udi_hid_kbd_b_report_valid,1,1
 942              		.comm	udi_hid_kbd_report_set,1,4
 943              		.global	udi_api_hid_kbd
 944              		.data
 945              		.align	2
 946              		.set	.LANCHOR1,. + 0
 949              	udi_hid_kbd_report_desc:
 950 0000 05       		.byte	5
 951 0001 01       		.byte	1
 952 0002 09       		.byte	9
 953 0003 06       		.byte	6
 954 0004 A1       		.byte	-95
 955 0005 01       		.byte	1
 956 0006 05       		.byte	5
 957 0007 07       		.byte	7
 958 0008 19       		.byte	25
 959 0009 E0       		.byte	-32
 960 000a 29       		.byte	41
 961 000b E7       		.byte	-25
 962 000c 15       		.byte	21
 963 000d 00       		.byte	0
 964 000e 25       		.byte	37
 965 000f 01       		.byte	1
 966 0010 75       		.byte	117
 967 0011 01       		.byte	1
 968 0012 95       		.byte	-107
 969 0013 08       		.byte	8
 970 0014 81       		.byte	-127
 971 0015 02       		.byte	2
 972 0016 81       		.byte	-127
 973 0017 01       		.byte	1
 974 0018 19       		.byte	25
 975 0019 00       		.byte	0
 976 001a 29       		.byte	41
 977 001b FF       		.byte	-1
 978 001c 15       		.byte	21
 979 001d 00       		.byte	0
 980 001e 25       		.byte	37
 981 001f FF       		.byte	-1
 982 0020 75       		.byte	117
 983 0021 08       		.byte	8
 984 0022 95       		.byte	-107
 985 0023 06       		.byte	6
 986 0024 81       		.byte	-127
 987 0025 00       		.byte	0
 988 0026 05       		.byte	5
 989 0027 08       		.byte	8
 990 0028 19       		.byte	25
 991 0029 01       		.byte	1
 992 002a 29       		.byte	41
 993 002b 05       		.byte	5
 994 002c 15       		.byte	21
 995 002d 00       		.byte	0
 996 002e 25       		.byte	37
 997 002f 01       		.byte	1
 998 0030 75       		.byte	117
 999 0031 01       		.byte	1
 1000 0032 95       		.byte	-107
 1001 0033 05       		.byte	5
 1002 0034 91       		.byte	-111
 1003 0035 02       		.byte	2
 1004 0036 95       		.byte	-107
 1005 0037 03       		.byte	3
 1006 0038 91       		.byte	-111
 1007 0039 01       		.byte	1
 1008 003a C0       		.byte	-64
 1009 003b 00       		.space	1
 1012              	udi_hid_nkro_report_desc:
 1013 003c 05       		.byte	5
 1014 003d 01       		.byte	1
 1015 003e 09       		.byte	9
 1016 003f 06       		.byte	6
 1017 0040 A1       		.byte	-95
 1018 0041 01       		.byte	1
 1019 0042 75       		.byte	117
 1020 0043 01       		.byte	1
 1021 0044 95       		.byte	-107
 1022 0045 08       		.byte	8
 1023 0046 15       		.byte	21
 1024 0047 00       		.byte	0
 1025 0048 25       		.byte	37
 1026 0049 01       		.byte	1
 1027 004a 05       		.byte	5
 1028 004b 07       		.byte	7
 1029 004c 19       		.byte	25
 1030 004d E0       		.byte	-32
 1031 004e 29       		.byte	41
 1032 004f E7       		.byte	-25
 1033 0050 81       		.byte	-127
 1034 0051 02       		.byte	2
 1035 0052 75       		.byte	117
 1036 0053 01       		.byte	1
 1037 0054 95       		.byte	-107
 1038 0055 05       		.byte	5
 1039 0056 05       		.byte	5
 1040 0057 08       		.byte	8
 1041 0058 19       		.byte	25
 1042 0059 01       		.byte	1
 1043 005a 29       		.byte	41
 1044 005b 05       		.byte	5
 1045 005c 91       		.byte	-111
 1046 005d 02       		.byte	2
 1047 005e 75       		.byte	117
 1048 005f 03       		.byte	3
 1049 0060 95       		.byte	-107
 1050 0061 01       		.byte	1
 1051 0062 91       		.byte	-111
 1052 0063 03       		.byte	3
 1053 0064 75       		.byte	117
 1054 0065 01       		.byte	1
 1055 0066 95       		.byte	-107
 1056 0067 F8       		.byte	-8
 1057 0068 15       		.byte	21
 1058 0069 00       		.byte	0
 1059 006a 25       		.byte	37
 1060 006b 01       		.byte	1
 1061 006c 05       		.byte	5
 1062 006d 07       		.byte	7
 1063 006e 19       		.byte	25
 1064 006f 00       		.byte	0
 1065 0070 29       		.byte	41
 1066 0071 F7       		.byte	-9
 1067 0072 81       		.byte	-127
 1068 0073 02       		.byte	2
 1069 0074 C0       		.byte	-64
 1070 0075 000000   		.space	3
 1073              	udi_hid_exk_report_desc:
 1074 0078 05       		.byte	5
 1075 0079 01       		.byte	1
 1076 007a 09       		.byte	9
 1077 007b 80       		.byte	-128
 1078 007c A1       		.byte	-95
 1079 007d 01       		.byte	1
 1080 007e 85       		.byte	-123
 1081 007f 03       		.byte	3
 1082 0080 16       		.byte	22
 1083 0081 01       		.byte	1
 1084 0082 00       		.byte	0
 1085 0083 26       		.byte	38
 1086 0084 03       		.byte	3
 1087 0085 00       		.byte	0
 1088 0086 1A       		.byte	26
 1089 0087 81       		.byte	-127
 1090 0088 00       		.byte	0
 1091 0089 2A       		.byte	42
 1092 008a 83       		.byte	-125
 1093 008b 00       		.byte	0
 1094 008c 75       		.byte	117
 1095 008d 10       		.byte	16
 1096 008e 95       		.byte	-107
 1097 008f 01       		.byte	1
 1098 0090 81       		.byte	-127
 1099 0091 00       		.byte	0
 1100 0092 C0       		.byte	-64
 1101 0093 05       		.byte	5
 1102 0094 0C       		.byte	12
 1103 0095 09       		.byte	9
 1104 0096 01       		.byte	1
 1105 0097 A1       		.byte	-95
 1106 0098 01       		.byte	1
 1107 0099 85       		.byte	-123
 1108 009a 04       		.byte	4
 1109 009b 16       		.byte	22
 1110 009c 01       		.byte	1
 1111 009d 00       		.byte	0
 1112 009e 26       		.byte	38
 1113 009f 9C       		.byte	-100
 1114 00a0 02       		.byte	2
 1115 00a1 1A       		.byte	26
 1116 00a2 01       		.byte	1
 1117 00a3 00       		.byte	0
 1118 00a4 2A       		.byte	42
 1119 00a5 9C       		.byte	-100
 1120 00a6 02       		.byte	2
 1121 00a7 75       		.byte	117
 1122 00a8 10       		.byte	16
 1123 00a9 95       		.byte	-107
 1124 00aa 01       		.byte	1
 1125 00ab 81       		.byte	-127
 1126 00ac 00       		.byte	0
 1127 00ad C0       		.byte	-64
 1128 00ae 0000     		.space	2
 1131              	udi_api_hid_exk:
 1132 00b0 00000000 		.word	udi_hid_exk_enable
 1133 00b4 00000000 		.word	udi_hid_exk_disable
 1134 00b8 00000000 		.word	udi_hid_exk_setup
 1135 00bc 00000000 		.word	udi_hid_exk_getsetting
 1136 00c0 00000000 		.word	0
 1139              	udi_api_hid_nkro:
 1140 00c4 00000000 		.word	udi_hid_nkro_enable
 1141 00c8 00000000 		.word	udi_hid_nkro_disable
 1142 00cc 00000000 		.word	udi_hid_nkro_setup
 1143 00d0 00000000 		.word	udi_hid_nkro_getsetting
 1144 00d4 00000000 		.word	0
 1147              	udi_api_hid_kbd:
 1148 00d8 00000000 		.word	udi_hid_kbd_enable
 1149 00dc 00000000 		.word	udi_hid_kbd_disable
 1150 00e0 00000000 		.word	udi_hid_kbd_setup
 1151 00e4 00000000 		.word	udi_hid_kbd_getsetting
 1152 00e8 00000000 		.word	0
 1153              		.bss
 1154              		.align	2
 1155              		.set	.LANCHOR0,. + 0
 1158              	udi_hid_kbd_rate:
 1159 0000 00       		.space	1
 1160 0001 000000   		.space	3
 1163              	udi_hid_kbd_protocol:
 1164 0004 00       		.space	1
 1165 0005 000000   		.space	3
 1168              	udi_hid_nkro_protocol:
 1169 0008 00       		.space	1
 1170 0009 000000   		.space	3
 1173              	udi_hid_nkro_rate:
 1174 000c 00       		.space	1
 1175 000d 000000   		.space	3
 1178              	udi_hid_exk_protocol:
 1179 0010 00       		.space	1
 1180 0011 000000   		.space	3
 1183              	udi_hid_exk_rate:
 1184 0014 00       		.space	1
 1187              	udi_hid_exk_b_report_trans_ongoing:
 1188 0015 00       		.space	1
 1189 0016 0000     		.space	2
 1192              	udi_hid_kbd_report_trans:
 1193 0018 00000000 		.space	8
 1193      00000000 
 1196              	udi_hid_nkro_report_trans:
 1197 0020 00000000 		.space	32
 1197      00000000 
 1197      00000000 
 1197      00000000 
 1197      00000000 
 1200              	udi_hid_exk_report_trans:
 1201 0040 000000   		.space	3
 1202              		.text
 1203              	.Letext0:
 1204              		.file 2 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/machine/_default_types
 1205              		.file 3 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_stdint.h"
 1206              		.file 4 "lib/arm_atsam/packs/arm/cmsis/5.0.1/CMSIS/Include/core_cm4.h"
 1207              		.file 5 "lib/arm_atsam/packs/atmel/SAMD51_DFP/1.0.70/include/system_samd51.h"
 1208              		.file 6 "tmk_core/protocol/arm_atsam/d51_util.h"
 1209              		.file 7 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/lock.h"
 1210              		.file 8 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_types.h"
 1211              		.file 9 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h
 1212              		.file 10 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/reent.h"
 1213              		.file 11 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/stdlib.h"
 1214              		.file 12 "tmk_core/protocol/arm_atsam/usb/compiler.h"
 1215              		.file 13 "tmk_core/protocol/arm_atsam/usb/usb_protocol.h"
 1216              		.file 14 "tmk_core/protocol/arm_atsam/usb/udi_device_conf.h"
 1217              		.file 15 "tmk_core/protocol/arm_atsam/usb/udi.h"
 1218              		.file 16 "tmk_core/protocol/arm_atsam/usb/udc_desc.h"
 1219              		.file 17 "tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.h"
 1220              		.file 18 "tmk_core/protocol/arm_atsam/usb/usb_main.h"
 1221              		.file 19 "tmk_core/protocol/arm_atsam/usb/udd.h"
 1222              		.file 20 "tmk_core/protocol/arm_atsam/usb/udi_hid.h"
 1223              		.file 21 "tmk_core/protocol/arm_atsam/usb/usb_protocol_hid.h"
 1224              		.file 22 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 udi_hid_kbd.c
/var/tmp//ccRsflmB.s:18     .text.udi_hid_kbd_getsetting:0000000000000000 $t
/var/tmp//ccRsflmB.s:25     .text.udi_hid_kbd_getsetting:0000000000000000 udi_hid_kbd_getsetting
/var/tmp//ccRsflmB.s:40     .text.udi_hid_kbd_setreport:0000000000000000 $t
/var/tmp//ccRsflmB.s:46     .text.udi_hid_kbd_setreport:0000000000000000 udi_hid_kbd_setreport
/var/tmp//ccRsflmB.s:86     .text.udi_hid_kbd_setreport:0000000000000028 $d
                            *COM*:0000000000000001 udi_hid_kbd_report_set
/var/tmp//ccRsflmB.s:99     .text.udi_hid_kbd_setreport_valid:0000000000000000 udi_hid_kbd_setreport_valid
/var/tmp//ccRsflmB.s:93     .text.udi_hid_kbd_setreport_valid:0000000000000000 $t
/var/tmp//ccRsflmB.s:112    .text.udi_hid_nkro_setreport:0000000000000000 $t
/var/tmp//ccRsflmB.s:118    .text.udi_hid_nkro_setreport:0000000000000000 udi_hid_nkro_setreport
/var/tmp//ccRsflmB.s:158    .text.udi_hid_nkro_setreport:0000000000000028 $d
                            *COM*:0000000000000001 udi_hid_nkro_report_set
/var/tmp//ccRsflmB.s:543    .text.udi_hid_nkro_setreport_valid:0000000000000000 udi_hid_nkro_setreport_valid
/var/tmp//ccRsflmB.s:165    .text.udi_hid_exk_setreport:0000000000000000 $t
/var/tmp//ccRsflmB.s:171    .text.udi_hid_exk_setreport:0000000000000000 udi_hid_exk_setreport
/var/tmp//ccRsflmB.s:211    .text.udi_hid_exk_setreport:0000000000000028 $d
                            *COM*:0000000000000001 udi_hid_exk_report_set
/var/tmp//ccRsflmB.s:526    .text.udi_hid_exk_setreport_valid:0000000000000000 udi_hid_exk_setreport_valid
/var/tmp//ccRsflmB.s:218    .text.udi_hid_kbd_enable:0000000000000000 $t
/var/tmp//ccRsflmB.s:225    .text.udi_hid_kbd_enable:0000000000000000 udi_hid_kbd_enable
/var/tmp//ccRsflmB.s:253    .text.udi_hid_kbd_enable:000000000000001c $d
                            *COM*:0000000000000001 udi_hid_kbd_b_report_trans_ongoing
                            *COM*:0000000000000008 udi_hid_kbd_report
                            *COM*:0000000000000001 udi_hid_kbd_b_report_valid
/var/tmp//ccRsflmB.s:261    .text.udi_hid_kbd_disable:0000000000000000 $t
/var/tmp//ccRsflmB.s:268    .text.udi_hid_kbd_disable:0000000000000000 udi_hid_kbd_disable
/var/tmp//ccRsflmB.s:282    .text.udi_hid_kbd_setup:0000000000000000 $t
/var/tmp//ccRsflmB.s:289    .text.udi_hid_kbd_setup:0000000000000000 udi_hid_kbd_setup
/var/tmp//ccRsflmB.s:306    .text.udi_hid_kbd_setup:000000000000000c $d
/var/tmp//ccRsflmB.s:313    .text.udi_hid_nkro_setup:0000000000000000 $t
/var/tmp//ccRsflmB.s:320    .text.udi_hid_nkro_setup:0000000000000000 udi_hid_nkro_setup
/var/tmp//ccRsflmB.s:338    .text.udi_hid_nkro_setup:0000000000000010 $d
/var/tmp//ccRsflmB.s:345    .text.udi_hid_exk_setup:0000000000000000 $t
/var/tmp//ccRsflmB.s:352    .text.udi_hid_exk_setup:0000000000000000 udi_hid_exk_setup
/var/tmp//ccRsflmB.s:370    .text.udi_hid_exk_setup:0000000000000010 $d
/var/tmp//ccRsflmB.s:377    .text.udi_hid_nkro_enable:0000000000000000 $t
/var/tmp//ccRsflmB.s:384    .text.udi_hid_nkro_enable:0000000000000000 udi_hid_nkro_enable
/var/tmp//ccRsflmB.s:428    .text.udi_hid_nkro_enable:0000000000000024 $d
                            *COM*:0000000000000020 udi_hid_nkro_report
                            *COM*:0000000000000001 udi_hid_nkro_b_report_trans_ongoing
                            *COM*:0000000000000001 udi_hid_nkro_b_report_valid
/var/tmp//ccRsflmB.s:436    .text.udi_hid_nkro_disable:0000000000000000 $t
/var/tmp//ccRsflmB.s:443    .text.udi_hid_nkro_disable:0000000000000000 udi_hid_nkro_disable
/var/tmp//ccRsflmB.s:457    .text.udi_hid_exk_enable:0000000000000000 $t
/var/tmp//ccRsflmB.s:464    .text.udi_hid_exk_enable:0000000000000000 udi_hid_exk_enable
/var/tmp//ccRsflmB.s:492    .text.udi_hid_exk_enable:0000000000000018 $d
                            *COM*:0000000000000003 udi_hid_exk_report
                            *COM*:0000000000000001 udi_hid_exk_b_report_valid
/var/tmp//ccRsflmB.s:499    .text.udi_hid_exk_disable:0000000000000000 $t
/var/tmp//ccRsflmB.s:506    .text.udi_hid_exk_disable:0000000000000000 udi_hid_exk_disable
/var/tmp//ccRsflmB.s:520    .text.udi_hid_exk_setreport_valid:0000000000000000 $t
/var/tmp//ccRsflmB.s:537    .text.udi_hid_nkro_setreport_valid:0000000000000000 $t
/var/tmp//ccRsflmB.s:554    .text.udi_hid_exk_getsetting:0000000000000000 $t
/var/tmp//ccRsflmB.s:561    .text.udi_hid_exk_getsetting:0000000000000000 udi_hid_exk_getsetting
/var/tmp//ccRsflmB.s:573    .text.udi_hid_nkro_getsetting:0000000000000000 $t
/var/tmp//ccRsflmB.s:580    .text.udi_hid_nkro_getsetting:0000000000000000 udi_hid_nkro_getsetting
/var/tmp//ccRsflmB.s:592    .text.udi_hid_kbd_send_report:0000000000000000 $t
/var/tmp//ccRsflmB.s:599    .text.udi_hid_kbd_send_report:0000000000000000 udi_hid_kbd_send_report
/var/tmp//ccRsflmB.s:658    .text.udi_hid_kbd_send_report:0000000000000044 $d
/var/tmp//ccRsflmB.s:674    .text.udi_hid_kbd_report_sent:0000000000000000 udi_hid_kbd_report_sent
/var/tmp//ccRsflmB.s:668    .text.udi_hid_kbd_report_sent:0000000000000000 $t
/var/tmp//ccRsflmB.s:700    .text.udi_hid_kbd_report_sent:0000000000000014 $d
/var/tmp//ccRsflmB.s:706    .text.udi_hid_nkro_send_report:0000000000000000 $t
/var/tmp//ccRsflmB.s:713    .text.udi_hid_nkro_send_report:0000000000000000 udi_hid_nkro_send_report
/var/tmp//ccRsflmB.s:774    .text.udi_hid_nkro_send_report:000000000000004c $d
/var/tmp//ccRsflmB.s:790    .text.udi_hid_nkro_report_sent:0000000000000000 udi_hid_nkro_report_sent
/var/tmp//ccRsflmB.s:784    .text.udi_hid_nkro_report_sent:0000000000000000 $t
/var/tmp//ccRsflmB.s:816    .text.udi_hid_nkro_report_sent:0000000000000014 $d
/var/tmp//ccRsflmB.s:822    .text.udi_hid_exk_send_report:0000000000000000 $t
/var/tmp//ccRsflmB.s:829    .text.udi_hid_exk_send_report:0000000000000000 udi_hid_exk_send_report
/var/tmp//ccRsflmB.s:881    .text.udi_hid_exk_send_report:0000000000000040 $d
/var/tmp//ccRsflmB.s:896    .text.udi_hid_exk_report_sent:0000000000000000 udi_hid_exk_report_sent
/var/tmp//ccRsflmB.s:890    .text.udi_hid_exk_report_sent:0000000000000000 $t
/var/tmp//ccRsflmB.s:922    .text.udi_hid_exk_report_sent:0000000000000014 $d
/var/tmp//ccRsflmB.s:1073   .data:0000000000000078 udi_hid_exk_report_desc
/var/tmp//ccRsflmB.s:1131   .data:00000000000000b0 udi_api_hid_exk
/var/tmp//ccRsflmB.s:1012   .data:000000000000003c udi_hid_nkro_report_desc
/var/tmp//ccRsflmB.s:1139   .data:00000000000000c4 udi_api_hid_nkro
/var/tmp//ccRsflmB.s:949    .data:0000000000000000 udi_hid_kbd_report_desc
/var/tmp//ccRsflmB.s:1147   .data:00000000000000d8 udi_api_hid_kbd
/var/tmp//ccRsflmB.s:945    .data:0000000000000000 $d
/var/tmp//ccRsflmB.s:1154   .bss:0000000000000000 $d
/var/tmp//ccRsflmB.s:1158   .bss:0000000000000000 udi_hid_kbd_rate
/var/tmp//ccRsflmB.s:1163   .bss:0000000000000004 udi_hid_kbd_protocol
/var/tmp//ccRsflmB.s:1168   .bss:0000000000000008 udi_hid_nkro_protocol
/var/tmp//ccRsflmB.s:1173   .bss:000000000000000c udi_hid_nkro_rate
/var/tmp//ccRsflmB.s:1178   .bss:0000000000000010 udi_hid_exk_protocol
/var/tmp//ccRsflmB.s:1183   .bss:0000000000000014 udi_hid_exk_rate
/var/tmp//ccRsflmB.s:1187   .bss:0000000000000015 udi_hid_exk_b_report_trans_ongoing
/var/tmp//ccRsflmB.s:1192   .bss:0000000000000018 udi_hid_kbd_report_trans
/var/tmp//ccRsflmB.s:1196   .bss:0000000000000020 udi_hid_nkro_report_trans
/var/tmp//ccRsflmB.s:1200   .bss:0000000000000040 udi_hid_exk_report_trans

UNDEFINED SYMBOLS
udd_g_ctrlreq
main_kbd_enable
main_kbd_disable
udi_hid_setup
memset
main_nkro_enable
main_nkro_disable
main_exk_enable
main_exk_disable
udd_ep_run
main_b_kbd_enable
main_b_nkro_enable
main_b_exk_enable
