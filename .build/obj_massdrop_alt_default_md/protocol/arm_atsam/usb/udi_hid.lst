   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"udi_hid.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.udi_hid_setup,"ax",%progbits
  18              		.align	1
  19              		.global	udi_hid_setup
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	udi_hid_setup:
  26              	.LFB14:
  27              		.file 1 "tmk_core/protocol/arm_atsam/usb/udi_hid.c"
   1:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** /**
   2:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \file
   3:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
   4:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \brief USB Device Human Interface Device (HID) interface.
   5:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
   6:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * Copyright (c) 2009-2015 Atmel Corporation. All rights reserved.
   7:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
   8:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \asf_license_start
   9:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  10:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \page License
  11:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  12:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * Redistribution and use in source and binary forms, with or without
  13:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * modification, are permitted provided that the following conditions are met:
  14:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  15:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *    this list of conditions and the following disclaimer.
  17:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  18:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *    and/or other materials provided with the distribution.
  21:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  22:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *    from this software without specific prior written permission.
  24:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  25:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * 4. This software may only be redistributed and used in connection with an
  26:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *    Atmel microcontroller product.
  27:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  28:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * POSSIBILITY OF SUCH DAMAGE.
  39:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  40:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \asf_license_stop
  41:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  42:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  */
  43:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** /*
  44:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * Support and FAQ: visit <a href="http://www.atmel.com/design-support/">Atmel Support</a>
  45:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  */
  46:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
  47:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** #include "conf_usb.h"
  48:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** #include "usb_protocol.h"
  49:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** #include "udd.h"
  50:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** #include "udc.h"
  51:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** #include "udi_hid.h"
  52:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
  53:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** /**
  54:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \ingroup udi_hid_group
  55:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \defgroup udi_hid_group_internal Implementation of HID common library
  56:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * @{
  57:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  */
  58:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
  59:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** /**
  60:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \brief Send the specific descriptors requested by SETUP request
  61:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  *
  62:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  * \retval true if the descriptor is supported
  63:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****  */
  64:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** static bool udi_hid_reqstdifaceget_descriptor(uint8_t *report_desc);
  65:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
  66:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** bool udi_hid_setup(uint8_t *rate, uint8_t *protocol, uint8_t *report_desc, bool (*setup_report)(voi
  28              		.loc 1 66 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  34              		.cfi_def_cfa_offset 24
  35              		.cfi_offset 4, -24
  36              		.cfi_offset 5, -20
  37              		.cfi_offset 6, -16
  38              		.cfi_offset 7, -12
  39              		.cfi_offset 8, -8
  40              		.cfi_offset 14, -4
  67:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (Udd_setup_is_in()) {
  41              		.loc 1 67 0
  42 0004 264C     		ldr	r4, .L29
  43 0006 2678     		ldrb	r6, [r4]	@ zero_extendqisi2
  66:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (Udd_setup_is_in()) {
  44              		.loc 1 66 0
  45 0008 1746     		mov	r7, r2
  46              		.loc 1 67 0
  47 000a 3206     		lsls	r2, r6, #24
  48              	.LVL1:
  49 000c 06F06005 		and	r5, r6, #96
  50 0010 32D5     		bpl	.L2
  68:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         // Requests Interface GET
  69:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         if (Udd_setup_type() == USB_REQ_TYPE_STANDARD) {
  51              		.loc 1 69 0
  52 0012 F5B9     		cbnz	r5, .L3
  70:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             // Requests Standard Interface Get
  71:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             switch (udd_g_ctrlreq.req.bRequest) {
  53              		.loc 1 71 0
  54 0014 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
  55              	.LVL2:
  56 0016 062B     		cmp	r3, #6
  57 0018 04D1     		bne	.L23
  58              	.LVL3:
  59              	.LBB4:
  60              	.LBB5:
  72:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_GET_DESCRIPTOR:
  73:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return udi_hid_reqstdifaceget_descriptor(report_desc);
  74:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             }
  75:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         }
  76:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         if (Udd_setup_type() == USB_REQ_TYPE_CLASS) {
  77:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             // Requests Class Interface Get
  78:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             switch (udd_g_ctrlreq.req.bRequest) {
  79:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_GET_REPORT:
  80:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return setup_report();
  81:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
  82:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_GET_IDLE:
  83:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     udd_g_ctrlreq.payload      = rate;
  84:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     udd_g_ctrlreq.payload_size = 1;
  85:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
  86:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
  87:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_GET_PROTOCOL:
  88:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     udd_g_ctrlreq.payload      = protocol;
  89:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     udd_g_ctrlreq.payload_size = 1;
  90:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
  91:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             }
  92:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         }
  93:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     }
  94:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (Udd_setup_is_out()) {
  95:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         // Requests Interface SET
  96:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         if (Udd_setup_type() == USB_REQ_TYPE_CLASS) {
  97:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             // Requests Class Interface Set
  98:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             switch (udd_g_ctrlreq.req.bRequest) {
  99:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_SET_REPORT:
 100:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return setup_report();
 101:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 102:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_SET_IDLE:
 103:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     *rate = udd_g_ctrlreq.req.wValue >> 8;
 104:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
 105:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 106:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_SET_PROTOCOL:
 107:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     if (0 != udd_g_ctrlreq.req.wLength) return false;
 108:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     *protocol = udd_g_ctrlreq.req.wValue;
 109:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
 110:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             }
 111:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         }
 112:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     }
 113:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     return false;  // Request not supported
 114:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** }
 115:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 116:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** //---------------------------------------------
 117:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** //------- Internal routines
 118:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 119:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** static bool udi_hid_reqstdifaceget_descriptor(uint8_t *report_desc) {
 120:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     usb_hid_descriptor_t UDC_DESC_STORAGE *ptr_hid_desc;
 121:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 122:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // Get the USB descriptor which is located after the interface descriptor
 123:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // This descriptor must be the HID descriptor
 124:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     ptr_hid_desc = (usb_hid_descriptor_t UDC_DESC_STORAGE *)((uint8_t *)udc_get_interface_desc() + 
  61              		.loc 1 124 0
  62 001a FFF7FEFF 		bl	udc_get_interface_desc
  63              	.LVL4:
 125:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (USB_DT_HID != ptr_hid_desc->bDescriptorType) return false;
  64              		.loc 1 125 0
  65 001e 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
  66 0020 212B     		cmp	r3, #33
  67 0022 01D0     		beq	.L5
  68              	.LVL5:
  69              	.L23:
  70              	.LBE5:
  71              	.LBE4:
 113:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** }
  72              		.loc 1 113 0
  73 0024 0020     		movs	r0, #0
  74 0026 23E0     		b	.L6
  75              	.LVL6:
  76              	.L5:
  77              	.LBB8:
  78              	.LBB6:
 126:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 127:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // The SETUP request can ask for:
 128:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // - an USB_DT_HID descriptor
 129:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // - or USB_DT_HID_REPORT descriptor
 130:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // - or USB_DT_HID_PHYSICAL descriptor
 131:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (USB_DT_HID == (uint8_t)(udd_g_ctrlreq.req.wValue >> 8)) {
  79              		.loc 1 131 0
  80 0028 6388     		ldrh	r3, [r4, #2]
  81 002a 1B0A     		lsrs	r3, r3, #8
  82 002c 212B     		cmp	r3, #33
  83 002e 0AD1     		bne	.L7
 124:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (USB_DT_HID != ptr_hid_desc->bDescriptorType) return false;
  84              		.loc 1 124 0
  85 0030 00F10903 		add	r3, r0, #9
 132:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         // USB_DT_HID descriptor requested then send it
 133:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         udd_g_ctrlreq.payload      = (uint8_t *)ptr_hid_desc;
  86              		.loc 1 133 0
  87 0034 A360     		str	r3, [r4, #8]
 134:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         udd_g_ctrlreq.payload_size = min(udd_g_ctrlreq.req.wLength, ptr_hid_desc->bLength);
  88              		.loc 1 134 0
  89 0036 437A     		ldrb	r3, [r0, #9]	@ zero_extendqisi2
  90              	.L28:
 135:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         return true;
 136:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     }
 137:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // The HID_X descriptor requested must correspond to report type
 138:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     // included in the HID descriptor
 139:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****     if (ptr_hid_desc->bRDescriptorType == (uint8_t)(udd_g_ctrlreq.req.wValue >> 8)) {
 140:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         // Send HID Report descriptor given by high level
 141:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         udd_g_ctrlreq.payload      = report_desc;
 142:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         udd_g_ctrlreq.payload_size = min(udd_g_ctrlreq.req.wLength, le16_to_cpu(ptr_hid_desc->wDesc
  91              		.loc 1 142 0
  92 0038 E288     		ldrh	r2, [r4, #6]
  93 003a 9342     		cmp	r3, r2
  94 003c 28BF     		it	cs
  95 003e 1346     		movcs	r3, r2
  96 0040 A381     		strh	r3, [r4, #12]	@ movhi
  97              	.LVL7:
  98              	.L24:
  99              	.LBE6:
 100              	.LBE8:
 104:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 101              		.loc 1 104 0
 102 0042 0120     		movs	r0, #1
 103 0044 14E0     		b	.L6
 104              	.LVL8:
 105              	.L7:
 106              	.LBB9:
 107              	.LBB7:
 139:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         // Send HID Report descriptor given by high level
 108              		.loc 1 139 0
 109 0046 C27B     		ldrb	r2, [r0, #15]	@ zero_extendqisi2
 110 0048 9A42     		cmp	r2, r3
 111 004a EBD1     		bne	.L23
 141:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****         udd_g_ctrlreq.payload_size = min(udd_g_ctrlreq.req.wLength, le16_to_cpu(ptr_hid_desc->wDesc
 112              		.loc 1 141 0
 113 004c A760     		str	r7, [r4, #8]
 114              		.loc 1 142 0
 115 004e 038A     		ldrh	r3, [r0, #16]	@ unaligned
 116 0050 F2E7     		b	.L28
 117              	.LVL9:
 118              	.L3:
 119              	.LBE7:
 120              	.LBE9:
  76:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             // Requests Class Interface Get
 121              		.loc 1 76 0
 122 0052 202D     		cmp	r5, #32
 123 0054 E6D1     		bne	.L23
  78:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_GET_REPORT:
 124              		.loc 1 78 0
 125 0056 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 126 0058 022A     		cmp	r2, #2
 127 005a 06D0     		beq	.L9
 128 005c 032A     		cmp	r2, #3
 129 005e 09D0     		beq	.L10
 130 0060 012A     		cmp	r2, #1
 131              	.L27:
 132 0062 DFD1     		bne	.L23
 114:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 133              		.loc 1 114 0
 134 0064 BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 135              		.cfi_remember_state
 136              		.cfi_restore 14
 137              		.cfi_restore 8
 138              		.cfi_restore 7
 139              		.cfi_restore 6
 140              		.cfi_restore 5
 141              		.cfi_restore 4
 142              		.cfi_def_cfa_offset 0
 143              	.LVL10:
  80:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 144              		.loc 1 80 0
 145 0068 1847     		bx	r3
 146              	.LVL11:
 147              	.L9:
 148              		.cfi_restore_state
  83:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     udd_g_ctrlreq.payload_size = 1;
 149              		.loc 1 83 0
 150 006a A060     		str	r0, [r4, #8]
 151              	.L25:
  89:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
 152              		.loc 1 89 0
 153 006c 0120     		movs	r0, #1
 154              	.LVL12:
 155 006e A081     		strh	r0, [r4, #12]	@ movhi
 156              	.LVL13:
 157              	.L6:
 114:tmk_core/protocol/arm_atsam/usb/udi_hid.c **** 
 158              		.loc 1 114 0
 159 0070 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 160              	.LVL14:
 161              	.L10:
  88:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     udd_g_ctrlreq.payload_size = 1;
 162              		.loc 1 88 0
 163 0074 A160     		str	r1, [r4, #8]
 164 0076 F9E7     		b	.L25
 165              	.L2:
  96:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****             // Requests Class Interface Set
 166              		.loc 1 96 0
 167 0078 202D     		cmp	r5, #32
 168 007a D3D1     		bne	.L23
  98:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                 case USB_REQ_HID_SET_REPORT:
 169              		.loc 1 98 0
 170 007c 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 171 007e 0A2A     		cmp	r2, #10
 172 0080 03D0     		beq	.L12
 173 0082 0B2A     		cmp	r2, #11
 174 0084 05D0     		beq	.L13
 175 0086 092A     		cmp	r2, #9
 176 0088 EBE7     		b	.L27
 177              	.L12:
 103:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
 178              		.loc 1 103 0
 179 008a 6388     		ldrh	r3, [r4, #2]
 180              	.LVL15:
 181 008c 1B0A     		lsrs	r3, r3, #8
 182 008e 0370     		strb	r3, [r0]
 183 0090 D7E7     		b	.L24
 184              	.LVL16:
 185              	.L13:
 107:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     *protocol = udd_g_ctrlreq.req.wValue;
 186              		.loc 1 107 0
 187 0092 E388     		ldrh	r3, [r4, #6]
 188              	.LVL17:
 189 0094 002B     		cmp	r3, #0
 190 0096 C5D1     		bne	.L23
 108:tmk_core/protocol/arm_atsam/usb/udi_hid.c ****                     return true;
 191              		.loc 1 108 0
 192 0098 6388     		ldrh	r3, [r4, #2]
 193 009a 0B70     		strb	r3, [r1]
 194 009c D1E7     		b	.L24
 195              	.L30:
 196 009e 00BF     		.align	2
 197              	.L29:
 198 00a0 00000000 		.word	udd_g_ctrlreq
 199              		.cfi_endproc
 200              	.LFE14:
 202              		.text
 203              	.Letext0:
 204              		.file 2 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/machine/_default_types
 205              		.file 3 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/lock.h"
 206              		.file 4 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_types.h"
 207              		.file 5 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h
 208              		.file 6 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/reent.h"
 209              		.file 7 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/sys/_stdint.h"
 210              		.file 8 "/usr/local/Cellar/gcc-arm-none-eabi/20180627/arm-none-eabi/include/stdlib.h"
 211              		.file 9 "tmk_core/protocol/arm_atsam/usb/compiler.h"
 212              		.file 10 "tmk_core/protocol/arm_atsam/usb/usb_protocol.h"
 213              		.file 11 "tmk_core/protocol/arm_atsam/usb/usb_protocol_hid.h"
 214              		.file 12 "tmk_core/protocol/arm_atsam/usb/udi_device_conf.h"
 215              		.file 13 "tmk_core/protocol/arm_atsam/usb/udi.h"
 216              		.file 14 "tmk_core/protocol/arm_atsam/usb/udc_desc.h"
 217              		.file 15 "tmk_core/protocol/arm_atsam/usb/udi_hid_kbd.h"
 218              		.file 16 "tmk_core/protocol/arm_atsam/usb/usb_main.h"
 219              		.file 17 "tmk_core/protocol/arm_atsam/usb/udd.h"
 220              		.file 18 "tmk_core/protocol/arm_atsam/usb/udc.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 udi_hid.c
/var/tmp//ccBwMMmO.s:18     .text.udi_hid_setup:0000000000000000 $t
/var/tmp//ccBwMMmO.s:25     .text.udi_hid_setup:0000000000000000 udi_hid_setup
/var/tmp//ccBwMMmO.s:198    .text.udi_hid_setup:00000000000000a0 $d

UNDEFINED SYMBOLS
udc_get_interface_desc
udd_g_ctrlreq
